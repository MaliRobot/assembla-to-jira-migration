
Server type = cloud
Ruby version: 2.4.1

DEBUG:    : 'false'
DATA      : 'data/confluence'
IMAGES    : 'data/confluence/images'
DOCUMENTS : 'data/confluence/documents'
WIKI      : 'https://measurabl.assembla.com/spaces/green-in-a-box/wiki'
WIKI_NAME : 'green-in-a-box'
API       : 'https://measurabl.atlassian.net/wiki/rest/api'
SPACE     : 'Assembla Wiki'
EMAIL     : 'kiffin.gish@planet.nl'

Found assembla space='Measurabl' => OK

GET url='https://measurabl.atlassian.net/wiki/rest/api/space' => OK
Found confluence space='Assembla Wiki' => OK

Unknown tickets
ticket_nr='0' page_id='108331576' page_title='JeffsDevEnv'
ticket_nr='4490800' page_id='108332092' page_title='GRESB Renewable'

Skip tickets
ticket_nr='12' issue_key='MP-12' page_id='108200313' page_title='UX Feedback'
ticket_nr='3' issue_key='MP-3' page_id='108331233' page_title='Utility Sync for Existing EnergyStar Accounts'
ticket_nr='4' issue_key='MP-4' page_id='108298728' page_title='Compliance Instances'
ticket_nr='49' issue_key='MP-49' page_id='108167639' page_title='Yardi'
ticket_nr='1' issue_key='MP-1' page_id='108331821' page_title='ENERGY STAR Waste'
ticket_nr='2' issue_key='MP-2' page_id='108331821' page_title='ENERGY STAR Waste'
ticket_nr='4' issue_key='MP-4' page_id='108331821' page_title='ENERGY STAR Waste'
ticket_nr='5' issue_key='MP-5' page_id='108331821' page_title='ENERGY STAR Waste'
ticket_nr='6' issue_key='MP-6' page_id='108331821' page_title='ENERGY STAR Waste'
ticket_nr='47' issue_key='MP-47' page_id='108200813' page_title='BREEAM Integration'
ticket_nr='38' issue_key='MP-38' page_id='108135162' page_title='MSR Types'
ticket_nr='4' issue_key='MP-4' page_id='108266588' page_title='Basic GRESB Analytics - Building Contributions'
ticket_nr='2' issue_key='MP-2' page_id='108266588' page_title='Basic GRESB Analytics - Building Contributions'
ticket_nr='3' issue_key='MP-3' page_id='108266588' page_title='Basic GRESB Analytics - Building Contributions'
ticket_nr='1' issue_key='MP-1' page_id='108266588' page_title='Basic GRESB Analytics - Building Contributions'
ticket_nr='1' issue_key='MP-1' page_id='108266662' page_title='You v Average'
ticket_nr='2' issue_key='MP-2' page_id='108266662' page_title='You v Average'
ticket_nr='1' issue_key='MP-1' page_id='108266662' page_title='You v Average'
ticket_nr='3' issue_key='MP-3' page_id='108266662' page_title='You v Average'
ticket_nr='3' issue_key='MP-3' page_id='108266662' page_title='You v Average'
ticket_nr='4' issue_key='MP-4' page_id='108266662' page_title='You v Average'
ticket_nr='2' issue_key='MP-2' page_id='108266662' page_title='You v Average'

Ok tickets
page_id='108200294' page_title='GRESB Performance indicator table' => 4
 1/25   4% GET url='https://measurabl.atlassian.net/wiki/rest/api/content/108200294?expand=body.storage' => OK
* 7076 to MP-8276 => OK
* 117 to MP-117 => OK
* 7442 to MP-7221 => OK
* 7547 to MP-7300 => OK
---
<p>Created by Mojgan Dadashi at 2018-04-21 00:09:41</p><p><a href="https://measurabl.assembla.com/spaces/green-in-a-box/wiki/GRESB_Performance_indicator_table">Assembla Wiki</a></p><hr />Some rules about Carbon emission data coverage and total portfolio coverages.<br />
Scope 1: Whole Site (no tenant) Fuel<br />
Scope 2: Whole Site &amp; Common area (no tenant) Electric<br />
Scope 3: Tenants only both Fuel and Electric (Indirect+TBT+TBL)&nbsp; &nbsp; &nbsp;Data Coverage: only the Electric data coverage&nbsp; &nbsp;Total Portfolio: Both Fuel and Electric<br />
<br />
- Renewable energy consumptions don't contribute in Carbon emission but they still contribute in &quot;Data Coverage&quot;<br />
- Common Area goes to Scope 2<br />
- Exterior Meters goes to Scope 2 - sot sure about this yet<br />
<br />
<br />
FR that worked on Scope 3 Data coverage and Total portfolio: <a href="https://measurabl.atlassian.net/projects/MP/issues/MP-8276">MP-8276</a> - FR<a href="https://measurabl.atlassian.net/projects/MP/issues/MP-117">MP-117</a> - GRESB: Scope 3 GHG fix data coverage<br />
Bug tickets:<br />
<a href="https://measurabl.assembla.com/spaces/green-in-a-box/tickets/7442-gresb-performance-indicator--no-data-coverage-and-total-portfolio-for-tbl-or/details"><a href="https://measurabl.atlassian.net/projects/MP/issues/MP-7221">MP-7221</a> - GRESB performance indicator: No data coverage and total portfolio for TBL or TBT when we have both of them(meter type) &nbsp;under 1 site</a><br />
<a href="https://measurabl.assembla.com/spaces/green-in-a-box/tickets/7547-overridden-site--39-s(-to-be-an-indirect)-total-portfolio-doesn--39-t-contribu/details"><a href="https://measurabl.atlassian.net/projects/MP/issues/MP-7300">MP-7300</a> - Overridden site's( to be an indirect) total portfolio doesn't contribute in Scope 3 total portfolio</a><br />
<a href="https://measurabl.atlassian.net/projects/MP/issues/MP-7285">MP-7285</a><br />
<br />
<a href="https://measurabl.testrail.net/index.php?/runs/view/81&amp;group_by=cases:section_id&amp;group_order=asc">Testplan we had for FR 177</a><br />
<br />
&nbsp;
---
page_id='108331177' page_title='International Support Feature Requests' => 1
 2/25   8% GET url='https://measurabl.atlassian.net/wiki/rest/api/content/108331177?expand=body.storage' => OK
* 4332 to MP-4312 => OK
---
<p>Created by Lance Onken at 2015-02-19 04:40:00</p><p><a href="https://measurabl.assembla.com/spaces/green-in-a-box/wiki/International_Support_Feature_Requests">Assembla Wiki</a></p><hr /><p>NOTE: See&nbsp;<a href="https://measurabl.atlassian.net/projects/MP/issues/MP-4312">MP-4312</a> - QA: State of Translation for notes on how to test localization.</p>
<p><br />
</p>
<p>&nbsp;Following are a list of prioritized features for supporting international data in our data management and analytics:</p>
<p>Country fields</p>
<p>[DONE] Add country field and Canadian provinces.</p>
<p><br />
</p>
<p>Number format</p>
<p>How to handle , vs .&nbsp;</p>
<p><br />
</p>
<p>Currency</p>
<p>Initial: Ability to report in different currencies</p>
<p>Long-term: Currency conversion. &nbsp;Can support conversion from all currencies to set of six standard currencies (USD, Yuan, Euro, British Pound, Yen, CAD)</p>
<p>Have ability to convert based on standard conversion from external data source (need to find currency conversion provider).&nbsp;</p>
<p>Have ability to convert based on client-specific currency conversions provided in a standard currency import format.</p>
<p><br />
</p>
<p>Units of Measure</p>
<p>Initial: Ability to report on standard metric units.</p>
<p>Long-term: Ability for client to choose units of measure for analytic reports.</p>
<p><br />
</p>
<p>Carbon calculations:<br />
  [DONE} Include International electricity carbon emissions factors by country.</p>
<p>[DONE] Include Canadian Province electricity carbon emissions factors.</p>
<p><br />
</p>
<p>Translations:</p>
<p>French translation of site for Canadian clients. &nbsp;</p>
<p>[Low-priority. I don't anticipate we'll need a lot of foreign language support. &nbsp;The only place where I've seen clients request it is for local PM data entry. Decide what other portions of the site would be useful for translations. &nbsp;Analytic reports. &nbsp;Data Entry modules other than surveys (ex: building pages). Overview page.</p>
<p>[Low-priority] Which languages: Spanish, Chinese, Japanese, German, Russian.</p>
<p><br />
</p>
---
page_id='108200313' page_title='UX Feedback' => 1
 3/25  12% GET url='https://measurabl.atlassian.net/wiki/rest/api/content/108200313?expand=body.storage' => OK
* 200 to MP-200 => OK
---
<p>Created by  at 2014-06-17 17:40:45</p><p><a href="https://measurabl.assembla.com/spaces/green-in-a-box/wiki/UX_Feedback">Assembla Wiki</a></p><hr /><h2>06/218/2014 - Laura Barnatt - TA Realty</h2>
<div>
  <div style="color: rgb(34,34,34);font-family: arial , sans-serif;font-size: 12.8px;line-height: normal;">
    <p class="MsoNormal" style="margin-top: 0.0px;margin-bottom: 0.0px;">Q: I have a question on our reporting vs. total portfolio at 12/31/13. For the GRESB report we are only reporting on our directly managed assets purchased before 9/30/13. In the Measurabl portfolio summary section we are asked for GAV by property type, number of buildings, etc. Should we be calculating the GAV numbers based on our total portfolio, even the ones we are not reporting on, or should we limit those numbers to our assets included in the GRESB survey? Give me a call if this is unclear.</p>
    <p class="MsoNormal" style="margin-top: 0.0px;margin-bottom: 0.0px;">A:&nbsp;The GAV numbers should be based upon the properties which you are reporting.</p>
    <p class="MsoNormal" style="margin-top: 0.0px;margin-bottom: 0.0px;">-----------------------------------------------------------</p>
  </div>
</div>
<h2>06/16/2014 - VMWare - Kristin &amp; Laura - CDP Survey</h2>
<ul>
  <li>Loved the idea of better intro assistance - they want to know what exact pieces of information are going to be needed in a section, who in their company may need to be contacted to get the info &amp; the ability to specify &quot;template info&quot; before starting the survey - Seemed to like ideas around asking them to specify buildings, countries and other &quot;reusable list items&quot; before they start the survey - resulting in pre-populated selection menus and tables &amp; not asking them again for redundant values.</li>
  <li>Were very focused on width issues on text input areas for longer answers &amp; question help (sample answer) - &quot;When you only get 3-4 words across it really messes with your reading comprehension&quot; - Were really interested in seeing larger real-estate (modal) for question help/sample answers. Still need to experiment with approaches for fuller view of essay answer text input display.</li>
  <li>'Click to edit values' seemed intuitive to them as they didn't ask any questions about how they worked - they did mention a desire for styling text differently once an answer has been entered (known issue)</li>
  <li>When adding a row to a table - would like an action to confirm they are finished entering that rows data - a &quot;Done&quot; button or something similar. Would expect newly added text to appear like the rest of the rows once this was clicked.</li>
  <li>Liked the input field with &quot;suffix/measurement values&quot; attached - but Kristin did mention it would be worth dropping in scarce horizontal real estate scenarios...</li>
  <li>Seemed to like the idea of table expansion (view in 100% modal) - to really spread out tables with lot's of columns/content</li>
  <li>Thought truncating essay answers in the &quot;preview&quot; mode (&quot;add explanation...&quot; in table below) - was a good approach to keep the tables from getting too tall</li>
</ul>
<div>
  <h3>Potential projects/enhancements based on feedback:</h3>
</div>
<div>
  <ul>
    <li>Mockup an &quot;Intro Wizard&quot; for protocol - Allow user to enter global list values to be used throughout survey. Introduce information needed and allow them to associate users with that area of information (they can ask them for info in the wizard &amp; we can remind them on specific questions to ask them for help)</li>
    <li>Prototype &quot;More info...&quot; &amp; &quot;Sample Answer&quot; layouts in a modal - Should allow for clear text formatting (headers, paragraphs, etc.), links and possibly images and video content</li>
    <li>Enhance styling of editable text in table prototypes to visually differentiate between questions that have been answered and ones that still need answers</li>
    <li>Add &quot;Commit&quot; interaction to &quot;Add new row&quot; function - Should change appearance of row to use all editable text labels...same as other rows</li>
    <li>Experiment: full page tables - expand &amp; close</li>
  </ul>
  -----------------------------------------------------------</div>
<div>
  <h2>5/22/2014 - VMWare - Kristin and Laura - CDP Survey</h2>
  <p class="p1" />
  <ul>
    <li>First comment was regarding multiple user accounts. Want it very much. Mentioned when they are both in there using same account - nothing is saved.</li>
    <li>&quot;Very simple UI. Really appreciate non-complex products&quot;</li>
    <li>When signing in from website - they mentioned we should clarify that Measurabl focuses on 'external' sustainability reporting. &quot;We file a lot of internal sustainability reports. There are a lot of products out there that help with this. Would be helpful to differentiate your service a bit. No other products do external reporting...Measurabl is very unique&quot;.</li>
    <li>Thought intro page at beginning of survey section was helpful</li>
    <li>There is a lead question in CDP asking if it is their first time reporting. When user answers &quot;Yes&quot; It goes on t ask about past two reporting year date ranges. Seems like it doesn't listen...should move these date range inputs to a more contextually relevant question/section.</li>
    <li>Also thought it would be helpful to acknowledge their reporting period is 1/1 - 12/31 for this year - and to repeat the pattern for other years we ask for (prepopulate)</li>
    <li>Complained about no 'points of reference' - Want to collaborate with other users and tell them what question # they need help with. Also wanted reference #s to match CDP so different collaborators could communicate reference points no matter what site they are looking at.</li>
  </ul>
  <p />
  <h3><b>Tutorial/How to Use</b>-&nbsp;There are some items/functionality&nbsp;that was not clear to Kristin/Laura</h3>
  <ul class="ul1">
    <li>What a colored vs gray balls mean - my take on this was they were'nt sure what they meant when they started, but as they answered questions, the meaning and function of the balls became clear (Don)</li>
    <li>What a square vs a circle means in question options</li>
    <li>That you can increase the size of a text area by dragging the bottom right</li>
  </ul>
  <h3><b>Module Lead Ins</b></h3>
  <ul class="ul1">
    <li>For the 'who' is needed- add more details around type of content/input needed. &nbsp;Not just HR- but who in HR, what will be asked- is it hiring- or person that makes compensation decision- so it will be senior level person - As we design better user help - I feel this sort of information is a lot more valuable at the question level. Intro page should get more basic as we add better help in the survey.</li>
    <li>Time estimates (on section intro pages) are too broad in range to add value. &nbsp;Depending on preparation level - question detail can take days, not minutes. &nbsp;This will vary greatly by client and may never be 'right', should consider eliminating - they felt it was unclear whether this involved preparation, etc. They seemed a bit miffed that the estimate was so much shorter than the time it actually took them. Probably does more harm than good</li>
  </ul>
  <h3><b>Sample Answer</b></h3>
  <ul class="ul1">
    <li>Allow option to export into word or text area, to allow client to read more clearly and possible just tweak/edit for their answer</li>
    <li>Brief discussion around this sounded like what they wanted was a list of important items they should include in their answer FIRST. With an option to download a file with sample answer. This would allow them to edit and share a document to get all the right info. - then they could copy paste from document into survey.</li>
  </ul>
  <h3><b>Scoring</b></h3>
  <ul class="ul1">
    <li>Clarity around scoring would be very useful to client so they can plan their time to attack the items that will yield the greatest impact in their score</li>
    <li>Value- not in estimating total score- but what individual question is worth- so they can determine how much effort toward accuracy is appropriate</li>
  </ul>
  <div>-----------------------------------------------------------</div>
</div>
<div>
  <h2>Jack Morton</h2>
  <p><i>The system was as simple as can be &ndash; I didn&rsquo;t run into any trouble and the questions being asked were easily understood. As someone that knows very little about all this stuff, I get a bit scared when there&rsquo;s information that I can&rsquo;t answer because we haven&rsquo;t even thought about it yet (like risk or scope and financial impact&hellip;) so that&rsquo;s scary and feels like it&rsquo;s going to be time consuming to obtain answers for that stuff but I guess that&rsquo;s why we&rsquo;re doing this, right!?</i></p>
  <p>-----------------------------------------------------------</p>
  <h2>Gerding Edlen</h2>
  <div>
    <p style="color: rgb(34,34,34);font-family: arial , sans-serif;font-size: 13.333334px;" />
    <ul style="color: rgb(34,34,34);font-family: arial , sans-serif;font-size: 13.333334px;">
      <li>GRESB 2015 Survey- She asked if she adds some policies now to address things that were missing for the 2014 survey, (1) can she get use those to get credit for 2014, and (2) upload those to Measurabl for 2015. &nbsp;I told her the 2014 reporting period has passed, but that we would be working on the ability for clients to upload documents/data so this is a year round process versus a 2 sprint</li>
      <li>GRESB 2015 Survey- She asked if we would be able to start her 2015 survey with all of her 2014 responses. &nbsp;I know we did this for some of our pilot clients this year, but have we discussed doing this systematically for all of our clients next year? This would probably be a useful feature.</li>
      <li>
        <p class="p1">Measurabl Survey- Her main question was around our 'proposed' feature question.&nbsp; She missed the proposed in the question, and was concerned that she missed the opportunity to see a predicted score and some other features.&nbsp; I let her know that we are using that question to help us prioritize the features we will be building into our product going forward. &nbsp;</p>
      </li>
      <li>Utility Synch- She said she is going to connect with her team internally around looking into doing this through Measurabl. &nbsp;She thinks this could be helpful for them, but it is not a top priority at the moment. &nbsp;She does have one fear in regards to this program, and that is that by automating this, it will disconnect her FMs from the data. &nbsp;We talked about making sure that we continue to call out outliers, and add more triggers to communicate issues/opportunities to FMs. &nbsp;I let her know that we are working on updating our pricing for this product, and that we will send that to her once complete. In conjunction with that, this could be a good lead for you/Walter/me to have follow up conversation with her about utility synch.</li>
      <li>Measurabl Survey- One question she had on our product- how can we sure that the data we imported from Energy Star is correct. &nbsp;I assured her that we did ample testing to ensure our API was accurate, and had s reasons to spot check a few clients where we saw unusual results, so we were very confident on the clean import. &nbsp;That said- if she had this apprehension, we may want a way to call this out/give clients that extra sense of security around the accuracy (not that Energy Star is accurate, just that our numbers are an accurate representation of what is in Energy Star).</li>
      <li><i>~ Moh: Could this be more of a disconnect between her and the staff managing ENERGY STAR data? Meaning: Maybe she was seeing the data for the first time in our product and has no idea how it was gathered or who entered it in ENERGY STAR? So - less of a concern about our ability to import accurately from ES - more of a concern of how is this data aggregated in ES and can I trust it's accurate? ~ Don</i></li>
      <li>
        <p class="p1">Utility Sync: She said she is going to connect with her team internally around looking into doing this through Measurabl.&nbsp; She thinks this could be helpful for them, but it is not a top priority at the moment.&nbsp; She does have one fear in regards to this program, and that is that by automating this, it will disconnect her FMs from the data.&nbsp; We talked about making sure that we continue to call out outliers, and add more triggers to communicate issues/opportunities to FMs.&nbsp; I let her know that we are working on updating our pricing for this product, and that we will send that to her once complete. In conjunction with that, this could be a good lead for you/Walter/me to have follow-up conversation with her about utility synch. &nbsp;</p>
      </li>
      <li>
        <ul>
          <li>Q6: Please rank your overall experience with Measurabl.</li>
          <li><b>4 - Great - It's the only way we'll file our GRESB response!</b></li>
          <li>Q7: Would you recommend Measurabl to others?</li>
          <li><b>Absolutely</b></li>
        </ul>
      </li>
    </ul>
    <div>-----------------------------------------------------------</div>
    <div>
      <h2>LORD Green Real Estate Strategies</h2>
      <p class="MsoListParagraphCxSpFirst" />
      <ul>
        <li>Indirectly managed assets - users need the ability to mark assets as indirectly managed.</li>
        <li>Saving/Printing reports - it would be nice to add a feature where the measurable reports could be saved to a pdf.  Additionally, it would be great to be able to save/print the individual property level data.</li>
        <li>Including/Excluding Assets - the process of &quot;turning off&quot; an asset is tedious.  Some users may link an ENERGY STAR account with hundreds of buildings, but only wish to include several assets in GRESB for a particular fund.  It would be nice to be able to select several buildings at a time and choose to exclude them.  Or have a toggle next to each building where we could turn them off and on.</li>
        <li>Pulling data from the ENERGY STAR accounts - currently the energy and water data is being pulled from each meter entered in the account.  This causes a problem when submeters have been entered into the account because measurabl is double counting the consumption of the submeters.  ENERGY STAR allows you to choose which meters to include in their &quot;view/edit configuration&quot;.  Meters that are marked not to be included in the total ENERGY STAR consumption should not be included in the measurabl totals.</li>
        <li>Separating out tenant/landlord consumption - Measurabl allows users to choose the option to separate out tenant consumption.  However, the only way to do this is to select a specific meter from the ENERGY STAR account and mark it as tenant consumption only.  While this is a great feature, it does not give users the opportunity to manually enter tenant submetered data. And, measurabl automatically assumes that this tenant meter is purchased by the landlord.  Sometimes the landlord obtains tenant purchased data to load into ENERGY STAR.  Users do not have the option to mark that a meter from the ENERGY STAR account is a tenant purchased energy or water meter.</li>
        <li>A great addition to the tool would be pulling data from the data center meters to allow users to mark them as tenant consumption.  These are not in the traditional &quot;meters&quot; section in ENERGY STAR.  They are part of the data center space type.</li>
        <li>In measurabl, when choosing to separate tenant/landlord consumption the user is forced to do this for both energy and water.  Either all the data is placed into whole building (energy and water) or all of the data is separated into landlord/tenant.  We have some properties where we have whole building water and common area only energy.  It would be helpful to have the option for both energy and water on whether or not to separate the consumption.</li>
        <li>Removing numbers &ndash; When values were entered into a field, there was no way to go back later to delete them.  I entered in waste values for a property and then wanted to change them back to zero but the system would not allow them to be blanked out to zero after numbers had already been entered.</li>
        <li>Intensities are calculated automatically as MWh/SF.  Users should have the option to choose units such as kBtu/SF.</li>
        <li>Intensities should only be calculated for buildings with 12 months of data. The measurabl intensities were calculated for all buildings including acquisitions with only a few months of data.  This does not allow for a equitable comparison from year to year.</li>
        <li>Measurabl makes no distinction between common area consumption vs. shared systems consumption; all base building data is lumped together.  For instance if fuel is only for the common areas and no fuel is used for any of the tenant spaces, there is no way to mark this in measurabl.  It places fuel consumption in landlord common/shared and automatically assumes that the data coverage is the total floor area.</li>
        <li>If the landlord pays for electricity for the HVAC of the entire building, but the tenants pay for the electricity for the plug and lighting loads of their space, there is no way to account for this in Measurabl.</li>
        <li>Waste &ndash; measurabl automatically assumes that the waste data coverage is for the entire property.  No way to mark the floor area coverage of waste.</li>
        <li>Energy Certifications &ndash; since Measurabl can be linked to ENERGY STAR, it would be helpful if it could calculate the floor area weighted ENERGY STAR score and the percentage of the portfolio that is covered by ENERGY STAR.</li>
      </ul>
      <div>-----------------------------------------------------------</div>
      <h2><b>USAA</b></h2>
      <p><i>My feedback would be that customer support, both from Matt Ellis and Moh, was exceptional. Response time and follow were great. The challenge is that we still had to spend significant time going through all responses, doing uploads, and managing the process. This is mostly due to the intricate application that USAA Real Estate Company needed. The main benefit/value-value add was in the performance indicator section and importing that data. The rest of the application really had to be reviewed and vetted internally regardless of Measurabl's efforts, so not sure it saved us time or money in those other areas. It did help to have a Subject Matter Expert close at hand to bounce ideas off of, but we didn't feel that Measurabl necessarily eliminated work. We will look for these additional features going forward to evaluate the cost/benefit of using Measurabl going forward. Again, thank you for treating us like your number 1 customer, we just need to evaluate overall benefit of using Measurabl.</i></p>
      <div>
        <ul>
          <li>Q1: How much time did you spend preparing your GRESB response compared to last year?</li>
          <li><b>More time</b></li>
        </ul>
        <ul>
          <li>Q3: Was Measurabl more cost effective relative to hiring a consultant or using internal resources?</li>
          <li><b>About the same</b></li>
        </ul>
        <ul>
          <li>Q4: How do you feel about the quality of your GRESB response?</li>
          <li><b>We submitted our best possible report.</b></li>
        </ul>
        <ul>
          <li>Q6: Please rank your overall experience with Measurabl.</li>
          <li><b>3 - Good - We will use it again.</b></li>
        </ul>
        <ul>
          <li>Would you recommend Measurabl to others?</li>
          <li><b>Maybe</b></li>
        </ul>
      </div>
      <div>----------------------------------------------------------</div>
      <h2><b>PARAMOUNT GROUP (?)</b></h2>
      <p>&ldquo;Being able to predict the actual score would be extremely beneficial.&rdquo;</p>
      <div>
        <ul>
          <li>Q1: How much time did you spend preparing your GRESB response compared to last year?</li>
          <li><b>Less time</b></li>
          <li>Q2: If you selected &quot;less time&quot;, please estimate the amount of time you saved (e.g. 20 hours, 30% faster).</li>
          <li><b>50%</b></li>
          <li>Q3: Was Measurabl more cost effective relative to hiring a consultant or using internal resources?</li>
          <li><b>About the same</b></li>
          <li>Q4: How do you feel about the quality of your GRESB response?</li>
          <li><b>I don't think it made a difference one way or another.</b></li>
          <li>Q6: Please rank your overall experience with Measurabl.</li>
          <li><b>4 - Great - It's the only way we'll file our GRESB response!</b></li>
          <li>Q7: Would you recommend Measurabl to others?</li>
          <li><b>Absolutely</b></li>
        </ul>
      </div>
      <div>---------------------------------------------------------</div>
      <h2>General User Issues &amp; Confusion</h2>
      <div>
        <p />
        <ul>
          <li>Billing- Not clear when they would be billed. &nbsp;They were asked to agree to payment when 'unlocking' their report, but were not clear why I didn't ask for credit card information and when they would be billed</li>
          <li>Moh reported that a customer was confused about where there data was - they didn&rsquo;t know what the locks meant. Once Moh explained it to her she said &ldquo;oh that makes sense&rdquo;.</li>
          <li>Deadline- Discrepancy between our reporting deadline and the GRESB reporting deadline. &nbsp;Why was there a gap?&nbsp;</li>
          <li>Submission- Is the final submission through Measurabl or GRESB? Once learned via GRESB, some asked why?</li>
          <li>Mapping- For users that compared our survey vs. GRESB, it was confusing as surveys didn't line up</li>
          <li>Response check- great feedback on that service, but clients wanted clarity on the estimated timing to turn that around</li>
          <li>Survey Lead-in- Overall strategy for GRESB answers- a lot of gray area based on how questions are asked- better to be conservative or aggressive. &nbsp;SME's would provide feedback to take a more affirmative approach. &nbsp;Could be an opportunity to provide an overall strategy survey 'lead in'</li>
          <li>GRESB Alerts- Confusion around GRESB alerts, especially when they would call out low fuel or low common area EUIs. &nbsp;we should build a way to build alerts to factor in for those instances.&nbsp;</li>
        </ul>
        <div>-----------------------------------------------------------</div>
      </div>
    </div>
  </div>
</div>
<div>
  <h2>8/26/2014 -&nbsp;Sean Kinghorn - Intuit&nbsp;- CDP&nbsp;Survey</h2>
  <p class="p2">This was an informal review of early examples of dynamic tables in the survey. A lot of the discussion was around Intuit's internal process.</p>
  <h4>Key Players</h4>
  <p class="p1" />
  <ul>
    <li>Bruce Hartzott - Sustainability Director - Ownership of CDP - mostly concerned with qualitative information (company strategy, goals, etc.)</li>
    <li>Tom Harrington - Global commute manager - Owns employee travel/commuting data</li>
    <li>Sean Kinghorn - Sustainability Program Manager - owns CDP quantitative/data side</li>
  </ul>
  <br />
  <ul>
    <li>Selecting countries represented in your portfolio: Sean got hung up because he was only able to add one additional to the static list. He was hesitant to proceed to the next page where we may allow to add additional countries</li>
    <li>Sean wants as much of last years survey to be imported as possible. For qualitative this is easy - for quantitative it&rsquo;s more about stuff like Base year, timeframes, etc. We should be smart about what previous years answers translate to for this years report. e.g.: Last years total becomes this years baseline.</li>
    <li>Would also love reminders on a table or question page: Here&rsquo;s what you did last year</li>
    <li>On open text field - description of how staff is incentivized/rewarded - Sean wasn&rsquo;t sure what more to say - Examples helpful here</li>
    <li>There are a lot of people involved - There is a lot of turnover as well - Sean spends a lot of time figuring out who holds the information necessary for each question - He wants to add colleagues, email and phone extension and what area they supplied info for. He told a story of a colleague handing his laptop to an intern and saying, &ldquo;Search my email for CDP to see who I talked to&rdquo;. Collaboration may eventually solve this problem - but a short-term solution may be a &quot;Notes&quot; area for each survey section. Normal employee turnover should not create extra work every reporting period. If he could see who answered what -with email and phone ext. info...he could complete his work a lot faster.</li>
  </ul>
  <h4>General/Cultural</h4>
  <p />
  <ul>
    <li>The distribution of responsibility caused frustration for Sean as he was painstakingly accurate with data aggregation, computation &amp; review - whereas his colleague had a lot of mistakes in the qualitative portion. e.g.: He imported last years answers and neglected to change year values to appropriate year.</li>
    <li>2012 Newsweek Green Ranking Report - Intuit was #12 - CDP changes the scoring methodology and they went to <a href="https://measurabl.atlassian.net/projects/MP/issues/MP-200">MP-200</a> + (so did Microsoft and all other top ranking from 2012)</li>
    <li>Executives are very (only) concerned with score improvement - Sean really wants to be told how it LOOKS like he&rsquo;s going to do at the end of a section&hellip;.and perhaps before he submits the report. It would also be nice at question level to provide guidance for what gets a better score (we have to do this objectively with honesty and transparency in mind) - this is a complex philosophical dichotomy we have to balance. Execs concerned with the PR/marketing aspect &amp; looking GOOD through sustainability reporting - conflicts with true spirit of transparency &amp; being honest about areas of improvement and goal setting.</li>
    <li>&ldquo;When I&rsquo;m reading questions like this - I&rsquo;m thinking of how it&rsquo;s going to impact the score&rdquo; - Wants guidance</li>
  </ul>
  <b style="line-height: 20.0px;">
    <div><b style="line-height: 20.0px;"><br />
      </b></div>
    Data</b><br />
  <p class="p1" />
  <ul>
    <li>Now using Peers - Was Hara, then Ecova</li>
    <li>They currently don&rsquo;t have all sites in Peers - working with Site Managers to get them in.</li>
    <li>Peers was putting some data in Scope 3 - that translates into Scope 1 &amp; 2 for CDP - created some confusion.</li>
    <li>Using Sustainable Minds for supply chain data this year</li>
    <li>Using Concur to track employee travel records</li>
    <li>Why didn&rsquo;t you report on waste? - WARM model - recycling=0 footprint - not accurate - Also - they are partial tenant in a lot of buildings &amp; have no access to Landlords Waste records</li>
  </ul>
  <p />
</div>
<div><br />
</div>
---
page_id='108167535' page_title='ARE Customer Use Case' => 1
 4/25  16% GET url='https://measurabl.atlassian.net/wiki/rest/api/content/108167535?expand=body.storage' => OK
* 4405 to MP-4385 => OK
---
<p>Created by Lance Onken at 2016-08-10 18:12:11</p><p><a href="https://measurabl.assembla.com/spaces/green-in-a-box/wiki/ARE_Customer_Use_Case">Assembla Wiki</a></p><hr /><p><b>This is a wiki to track Ari wants/use cases for Alexandira.&nbsp;<br />
    <br />
    Summary of asks: </b><em>In rank of importance</em></p>
<ol>
  <li>Normilization &ndash; adding the ability is normilze for weather and occupancy at same time &ndash; added 10/19 &nbsp;- Ari said this is <u>very important </u>w/out it is does not let him or his team correctly compare site year/year.&nbsp;</li>
  <li>PDF export &ndash; ability to download xls w/ charts/graphs from pdf. &ndash; added 10/19&nbsp;</li>
  <li>Utility Sync &ndash; pull in other items from bills (demand,etc) &ndash; Sondra already aware of this and met with Ari about. added 8/18&nbsp;</li>
</ol>
<p><br />
  <u><strong>Utility Sync:</strong><br />
    Summarize:&nbsp;</u>&nbsp;Best case we start tracking Demand. This is ticketed for ULI: Track demand&nbsp;<a href="https://measurabl.assembla.com/spaces/green-in-a-box/tickets/4405-uli--track-demand-(kw)/details"><a href="https://measurabl.atlassian.net/projects/MP/issues/MP-4385">MP-4385</a></a>&nbsp;<br />
  <br />
  Investigating the ability to gather more information from the Utility Bills with Utility&nbsp;Sync.</p>
<p><b>Customer Use Case: &nbsp;</b>Alexandria&nbsp;has a vision of Utility Sync 2.0&hellip;currently one of their Building Engineers tracks in his own excels information from the Utility Bills. See list below for items he would like to have access to. Excels stored in Customer Success &ndash; Customers &ndash; Alexandria &ndash; Onboarding &ndash; Greater Boston &ndash; &quot;Greater Boston &ndash; 20160613 Energy &nbsp;Load Dashboard&quot; and &quot;Greater Boston &ndash; Utility 2016&quot;</p>
<p><b>Of course: </b>The case may be this is an ask from something our software does not/will not ever solve for.&nbsp;Talking with Matt and Ari, we agreed to look into the feasibility and use cases but, we are not promising any immediate dev work.&nbsp;Right now, we are only in the discovery stages.&nbsp;</p>
<p><b>Picked Brianna and Sondra's brains, below is information on Utility Sync:&nbsp;</b></p>
<p><b>Summary:</b>&nbsp;</p>
<ul>
  <li>We can pull anything from a Utility bill.&nbsp;</li>
  <li>Our Utility Sync integration currently only pulls in data that will get pushed to Energy Star. Things like waste and sewer were accepted but the data was never pushed anywhere.&nbsp;</li>
  <li>Deliveries since the dawn of time have included demand, but we&rsquo;ve never done anything with it.&nbsp;</li>
</ul>
<p>Sometime in July we started getting Urjanet deliveries in a new format and the new format gave us more information. <b style="line-height: 1.4;">That new format includes</b>:</p>
<div>
  <ul style="color: rgb(34,34,34);font-family: arial , sans-serif;font-size: 12.8px;line-height: normal;">
    <li>Demand&nbsp;</li>
    <li>Tariff</li>
    <li>Consumption Charges</li>
    <li>Demand Charges</li>
    <li>Tax Charges</li>
    <li>Other Charges</li>
    <li>Late Fee Charges</li>
    <li>Adjustment Charges</li>
  </ul>
  <div>
    <div>&nbsp;</div>
    <div><b>Here&rsquo;s the full header of information from the bill we can pull:&nbsp;</b></div>
    <div>&nbsp;</div>
    <div>
      <div style="line-height: 16.8px;">SiteCode,SiteName,SiteAddress1,SiteAddress2,SiteCity,SiteState,SiteZip,CustomerCode,CustomerName,CNBD1,CNBD2,CNBD3,CNBD4,CNBD5,CNBD6,CNBD7,CNBD8,CNBD9,CNBD10,ProviderName,SummaryAccountNumber,AccountNumber,InvoiceNumber,StatementDate,StartDate,EndDate,AdditionalProviderAlias,AdditionalProviderAccountNumber,ServiceType,MeterNumber,PodNumber,ServiceAddress,Tariff,ConsumptionReadType,ConsumptionUnit,Consumption,DemandUnit,Demand,HasAdjustments,Currency,Cost,TotalNewCharges,ConsumptionCharges,DemandCharges,TaxCharges,OtherCharges,LateFeeCharges,AdjustmentCharges,StatementId,LogicalMeterId,Url</div>
      <div style="line-height: 16.8px;">&nbsp;</div>
      <div style="line-height: 16.8px;"><b>Brianna/Sondra: What items to focus on:&nbsp;</b></div>
      <div style="line-height: 16.8px;">
        <ul>
          <li>Demand</li>
          <li>cost/unit (this is a good QA number anyway)&nbsp;</li>
        </ul>
        <p><b style="line-height: 16.8px;">Feedback:</b></p>
      </div>
    </div>
  </div>
</div>
<div style="line-height: 16.8px;">
  <ul>
    <li>Demand is something a lot of clients are interested in. &nbsp;</li>
    <li>The $/unit of measure is something that we will definitely be adding (it's a calculation we can do, not something we have to pull from the bill).&nbsp;</li>
    <li>There&rsquo;s no current functionality to ingest and push data (such as demand) directly to&nbsp;Measurabl&nbsp;and this would be a significant lift from Dave to support it.</li>
  </ul>
  <div>
    <div style="color: rgb(34,34,34);font-family: arial , sans-serif;font-size: 12.8px;line-height: normal;"><br />
      <b>Matt &ndash; </b>The big picture is I do not intend to take us into hard core energy management. We can and will become more and more competent in this area &ndash; and there are some&nbsp;items here which make for a good starting point &ndash; but it is not going to be our MO. Instead, we will build things others have not &ndash; we win by differentiating, not being &ldquo;me too&rdquo;.</div>
    <div style="color: rgb(34,34,34);font-family: arial , sans-serif;font-size: 12.8px;line-height: normal;">If Alexandria cut us a HUGE check, I can see staffing some engineers just for this. That&rsquo;s the only way it&rsquo;s going to change our product plan in the medium term.</div>
  </div>
</div>
<div style="line-height: 16.8px;">
  <div>&nbsp;</div>
</div>
<div><b>Below please find the list of items/fields that Jeff (Alexandria Building Engineer) pulls manually from bills in order do his utility data tracking, analysis, and optimization. With Sondra/Brianna notes on items:&nbsp;</b></div>
<div><b>- </b>Utility Sync &ndash; current&nbsp;</div>
<div>-&nbsp;Feasible (this is on our roadmap)</div>
<div style="line-height: 16.8px;">&nbsp;</div>
<div>
  <p class="MsoNormal" style="margin-bottom: 0.0px;">Electric:<br />
    &nbsp;</p>
  <p>1.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Peak</p>
  <p>2.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Low A</p>
  <p>3.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Low B</p>
  <p>4.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Off Peak</p>
  <p>5.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Total KWH -&nbsp;&nbsp;Utility Sync &ndash; current&nbsp;</p>
  <p>6.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Demand KVA&mdash;Feasible (this is on our roadmap)</p>
  <p>7.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Demand Cost&nbsp;&mdash;Feasible (this is on our roadmap)</p>
  <p>8.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;KWH Cost -&nbsp;</p>
  <p>9.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Total Del Charge&nbsp;Utility Sync &ndash; current&nbsp;</p>
  <p>10.&nbsp;&nbsp;&nbsp;Del cost/Kwh&nbsp;&nbsp;&mdash;Feasible (this is in our roadmap as a future report)</p>
  <p>11.&nbsp;&nbsp;&nbsp;Commodity &nbsp;cost</p>
  <p>12.&nbsp;&nbsp;&nbsp;Commodity/Kwh cost (allows for contract comp)<br />
    <br />
    NG</p>
  <p><br />
    1.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Therms -&nbsp;&nbsp;Utility Sync &ndash; current; Total bill cost for NG is also currently supported in Utility Sync</p>
</div>
<div class="gmail_quote">
  <p>2.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Delivery Cost</p>
  <p>3.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Del rate/Therm&nbsp;&nbsp;&nbsp;&mdash;Feasible (this is in our roadmap as a future report)</p>
  <p>4.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Commodity Cost</p>
  <p>5.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Commodity/Therm (allows for contract comp)<br />
    <br />
    Water</p>
  <p><br />
    1.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Units used&nbsp;(CCF or CF) -&nbsp;&nbsp;Utility Sync &ndash; current&nbsp;</p>
  <p>2.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Water cost -&nbsp;Utility Sync &ndash; current</p>
  <p>3.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sewer cost</p>
</div>
<p><br />
  <u><strong>****Normilization: ****</strong></u><br />
  Ari would like the ability to normalize for weather and occupancy at the same time. At the site level and at the portfolio trends level.&nbsp;<br />
  <br />
  Site Level:&nbsp;https://app.measurabl.com/admin/users/1394/groups/11476/data-management/real-estate/ENERGYSTAR/4973380/trendshttps://app.measurabl.com/admin/users/1394/groups/11476/data-management/real-estate/ENERGYSTAR/4973380/trends<br />
  <br />
  <ac:image ac:height="250"><ri:attachment ri:filename="dbjFwQLICr5RPjdmr6QqzO" ri:version-at-save="1" /></ac:image><br />
  <br />
  Portfolio:&nbsp;https://app.measurabl.com/admin/users/1394/groups/11476/trends/portfolio-consumption *Export would include number for all normilzations<br />
  <ac:image ac:height="250"><ri:attachment ri:filename="c2oUpELI0r5PH_dmr6QqzO" ri:version-at-save="1" /></ac:image><br />
  <br />
  Trends &ndash; by site:&nbsp;https://app.measurabl.com/admin/users/1394/groups/11476/trends/by-site<br />
  <ac:image ac:height="250"><ri:attachment ri:filename="cM0jnCLI4r5Odcdmr6bg7m" ri:version-at-save="1" /></ac:image><br />
  <br />
  <u><strong>Site Dashboard PDF export:&nbsp;</strong></u><br />
  - would like to be able to download excel verison of pdf. Feeback All graphs/charts on pdf look great now I want to be able to see this in excel.</p>
---
page_id='108265911' page_title='Survey Client Feedback - Ivanhoe Cambridge' => 1
 5/25  20% GET url='https://measurabl.atlassian.net/wiki/rest/api/content/108265911?expand=body.storage' => OK
* 1189 to MP-1182 => OK
---
<p>Created by Brianna Jackson at 2014-12-03 03:01:55</p><p><a href="https://measurabl.assembla.com/spaces/green-in-a-box/wiki/Survey_Client_Feedback_-_Ivanhoe_Cambridge">Assembla Wiki</a></p><hr /><p>&nbsp;Ivanhoe had a few comments that expressed a wish or a need to have some updates in the way we do things.</p>
<h3>Pre-Population (Data Integration)</h3>
<blockquote style="">
  <p><i>&quot;This [asking for building names and information] becomes a constant theme throughout as we are passing along the list of properties, they should all be pre-loaded. This makes numerous questions much more intuitive, user friendly and useful for tracking and exporting. There are many questions where if the pre-loaded sites could be listed and the user selects options for each one (like directly or indirectly managed, or automatic meter readings or utility bills) - I have noted this in the comments for each of the following questions where this approach would be useful.&quot;</i></p>
  <p><i>&quot;In future, and I mentioned this to Matt, the ideal would be a property list or something automatically populated (like the performance indicators section) where you can just check off properties that the answer applies to because adding up floor area is not intuitive to people.&quot;</i></p>
</blockquote>
<p>This is the concept of pulling in data from the Data Management page. We also have a similar concept of pulling in data from the My Account page where we can ask the user questions like what unit of measure or currency they'd like to report in for all surveys.</p>
<h3>Table Data Relevance</h3>
<blockquote style="">
  <p><i>&quot;My comment here would be, is it possible to again list the buildings loaded (as in the portfolio details) and ask them to select which ones the assessments apply to (and therefore get the floor area and percentage)? - I just think if the asset/property manager is asked &quot;which properties have these assessments been performed on?&quot; and then can just check off the property or select &quot;Yes/No&quot; that would be most likely for them to provide the accurate response. Otherwise they are trying to open up spreadsheets and use calculators etc. It seems messy.&quot;</i></p>
</blockquote>
If we allowed the user to enter in the buildings in a table, it would be nice to use that list to populate a drop down later on. OR this can be another example of Pre-Population (Data Integration) where we pull this data from the Data Management page.
<div>
  <h3><del>Make Alerts More Obvious (<a href="https://measurabl.atlassian.net/projects/MP/issues/MP-1182">MP-1182</a>)</del></h3>
</div>
<blockquote style="">
  <p><i><del>&quot;General note, when I get to the review at the end of a section. If I missed a few questions, it says &quot;you have a few alerts to work on&quot; I see now that the big yellow number to the left of the screen is the alert, but I did not intuitively know that. Maybe label it &quot;Alerts&quot;.&quot;</del></i></p>
</blockquote>
<del>Alerts are not obvious enough when modules are collapsed. A hover message might do the trick.</del>
<div>
  <h3>Make &quot;No Answer&quot; More Obvious</h3>
</div>
<blockquote style="">
  <div><i style="font-size: 14.0px;line-height: 21.0px;">&quot;Also, when it lists my responses below, the one that I did not complete says &quot;No answer&quot;. This is good, but if this is why there is an alert, would it not make sense to have this &quot;No answer&quot; written in red. This seems to be common practice for when you miss something on a form or something. It just would support the alerts message and number I believe. Just thought I would add this user input for the system in general.&quot;</i></div>
</blockquote>
<div>Notify which answers are getting the alerts by color coding the pencils. Red, Green, Blue.</div>
<h3>Alerts for Non-Dependent Questions</h3>
<blockquote style="">
  <div><i>&quot;Also, for the targets question, I did not fill in all the information necessary but didn't get an alert&quot;</i></div>
</blockquote>
How can we better alert users when they haven't filled out questions that are non-dependent? Could be coupled with the section above.
<div>
  <h3><del>Number Validation w/Commas</del></h3>
</div>
<div>
  <blockquote><i><del>&quot;When you enter a number with a comma in it, this is not accepted. The error message says 'enter a number' &ndash; can you change this so that &ldquo;Enter a number &ndash; no commas&rdquo; or something along those lines to make it clear, we had some confusion there as people see '200,000' and say 'that is a number'&quot;</del></i></blockquote>
  <del>We just need to change the validation message to specify that we don't accept commas in number input boxes.</del></div>
<div>
  <div>
    <h3><del>Tables Should Have Incomplete Alerts (Mandatory vs Optional Columns)</del></h3>
  </div>
  <div>
    <blockquote><i><del>&quot;If someone enters yes to a question but then does not enter a corresponding 'Portfolio coverage' there should be an error or incomplete message&quot;</del></i></blockquote>
    <blockquote><i><del>&quot;Please make the question regarding directly or indirectly managed mandatory and make it so that if they don&rsquo;t enter that than they get an error message.&quot;</del></i></blockquote>
    <del>Generally, we need support for incomplete tables. 1) There's a bug where static tables with relevant rows are not having any alerts triggered and 2) Completion of a table is based off if there is at least one column in all rows that have answers. We assume all columns are optional.&nbsp;</del></div>
</div>
<div>
  <div>
    <h3><del>Column Help Should Be More Obvious</del></h3>
  </div>
  <div>
    <blockquote><i><del>&quot;I know they are there in the definitions if you hover over it but sometimes people don&rsquo;t do that and do not know&quot;</del></i></blockquote>
    <blockquote><i><del>Sondra: &quot;We definitely need to make it obvious that there is column help by hovering. &nbsp;I don't think it was until Mammoth that I realized there was help in the column headers.&quot;</del></i></blockquote>
    <del>Column Help is not obvious enough. It's not intuitive that the dotted line under the column header means that the user should hover over for information. We can use the tooltip icon to specify Column Help.</del></div>
</div>
---
page_id='108167587' page_title='Energy Star Certification Workflow' => 1
 6/25  24% GET url='https://measurabl.atlassian.net/wiki/rest/api/content/108167587?expand=body.storage' => OK
* 2237 to MP-2224 => OK
---
<p>Created by Sondra Tosky at 2015-07-15 04:45:28</p><p><a href="https://measurabl.assembla.com/spaces/green-in-a-box/wiki/Energy_Star_Certification_Workflow">Assembla Wiki</a></p><hr /><p><b><i>Caveats for ES Certs:</i></b></p>
<ol class="ol1">
  <li>Doesn&rsquo;t work for multi-family because need full building usage including tenant. &nbsp;Can&rsquo;t be estimate</li>
  <li>Only works where we have a score because first criteria is to search for 75+. &nbsp;For broken Usync accounts we won&rsquo;t even be getting score because of defunct meters and gaps.</li>
  <li>Difficult to tell when the data has gaps/overlaps if a building may be eligible. &nbsp;You have to clean up the building first to know for sure.</li>
</ol>
<p class="MsoNormal" style="background: white;"><i style=""><b><br />
    </b></i></p>
<p class="MsoNormal" style="background: white;"><i style=""><b>Notification Frequency</b></i></p>
<p class="MsoNormal" style="background: white;">On a monthly basis
  Measurabl will follow the below steps to identify buildings eligible for Energy
  Star Certification and notify Client and EnivronmentalSave.</p>
<p class="MsoNormal" style="background: white;"><br />
</p>
<p class="MsoNormal" style="background: white;"><i style=""><b>Identify Energy Star Eligible Buildings</b></i></p>
<p class="MsoListParagraphCxSpFirst" style="">1.&nbsp; &nbsp; We are currently manually downloading the Energy Star reports. &nbsp;Long-term there is a ticket to look at automatically downloading the reports (<a href="https://measurabl.atlassian.net/projects/MP/issues/MP-2224">MP-2224</a>).</p>
<blockquote style="">
  <p class="p1">1. Go to Reporting<br />
    2. Select the report Energy Star Certification Status. Choose 'Update properties and timeframes'.&nbsp; Update the report to include All Properties. (Bug in ES is that the report default is for 'Multiple Properties', but if a new property is added it's not included in the multiple property list.&nbsp; Changing the setting to All Properties insures all properties including new ones are reported).<br />
    3. Go back to the report list and choose to 'Generate the report'.&nbsp; Refresh the screen to see when it's done.<br />
    4. Select 'Download to excel'</p>
</blockquote>
<p class="p1">We'll use the following logic to look for buildings:</p>
<p class="p1">Anything with a Energy Star Score &gt;=75 is of interest. &nbsp;</p>
<p class="p1">There are four scenarios:</p>
<p class="p1">&nbsp; &nbsp;a. Building is certifiable for first time.</p>
<p class="p1">&nbsp; &nbsp;b. Building is currently certified and has to wait for next certification time (buildings have to wait a year between certifications)</p>
<p class="p1">&nbsp; &nbsp;c.&nbsp; Building has a data issue or default property values that must get fixed before it can be certified</p>
<p class="p1">&nbsp; &nbsp;d.&nbsp; Building is not certifiable because it's the wrong property type, size, etc.</p>
<p class="p2">Eligibility (column M) tells us if the building is ready for certification; i.e. it passes all the data checks. It is a Yes/No field:</p>
<p class="p2" />
<ul>
  <li>Scenario A: Y: If a building has a Yes, but no 'next eligible certification date' (column L) then it means it's never been certified before and we can certify it at any time.&nbsp; We can set that to current date in the notifications timeline. &nbsp;</li>
  <li>Scenario B: Y: If Yes, but 'next eligible certification date' (Column L) has a value, then it means the building was previously certified.&nbsp; The date in Column L is the next eligibility date.&nbsp; That date is the one we'll want to have show up in the notifications timeline.&nbsp;</li>
  <li>Scenario C/D: N=If a building has a No, it means something is keeping it from being certified.&nbsp; This could be that it's not a certifiable building type, data could have a gap or estimation, or it could be using default values for the property type.&nbsp; We'll need to use our new API feature to find out the issue, or manually go to the site and click on the Energy Star certification button to find out what the issue is.&nbsp; Once we then fix the issue if it is fixable, the No will turn to Yes in the report and it will follow the 'yes' path process (scenario A/B above). &nbsp;For non-USync customers we will ignore the N buildings going forward. &nbsp;We&rsquo;ll only do that for our USync clients.</li>
</ul>
<p />
<p class="MsoListParagraphCxSpMiddle" style="">2.&nbsp;&nbsp;&nbsp;
  Measurabl will provide EnvironmentalSave with a list of the
  eligible buildings and Measurabl will share all relevant client Energy Star
  accounts and building profiles with EnvironmentalSave.</p>
<p class="MsoListParagraphCxSpMiddle" style="">3.&nbsp;&nbsp;&nbsp;
  EnvironmentalSave will do an additional manual review of the
  buildings identified to determine which look like eligible candidates for
  Energy Star certification.</p>
<p class="MsoListParagraphCxSpLast" style="">4.&nbsp;&nbsp;&nbsp;
  Measurabl will then notify client of buildings eligible for
  Energy Star certification and confirm if they would like to have the
  building(s) certified.</p>
<p class="MsoListParagraphCxSpLast" style=""><br />
</p>
<p class="MsoNormal" style="background: white;"><i style=""><b>Certification Process</b></i></p>
<p class="MsoListParagraphCxSpFirst" style="">5.&nbsp;&nbsp;&nbsp;
  Client to provide Measurabl and EnvironmentalSave with the
  contact information (email and phone number) of a person knowledgeable with
  building information (i.e. chief engineer or property manager with information
  such as: address, sq ft, year built, hours of operation, number of employees,
  etc.).&nbsp; </p>
<p class="MsoListParagraphCxSpMiddle" style="">6.&nbsp;&nbsp;&nbsp;
  Client confirms that the average occupancy (the previous 12
  months) is greater than 50%.&nbsp; This is
  required to achieve ENERGY STAR Certification. </p>
<p class="MsoListParagraphCxSpMiddle" style="">7.&nbsp;&nbsp;&nbsp;&nbsp;
  Client will fill out information necessary for building
  benchmarking (such as hours of operation, etc).</p>
<p class="MsoListParagraphCxSpMiddle" style="">8.&nbsp;&nbsp;&nbsp;
  Measurabl will be responsible for automating data to the
  buildings. Measurabl will do an initial assessment of Measurabl meter data to
  ensure quality is complete and accurate.</p>
<p class="MsoListParagraphCxSpMiddle" style="">9.&nbsp;&nbsp;&nbsp;
  Client will be responsible for entering and providing data for
  meters not covered by Measurabl Utility Sync. </p>
<p class="MsoListParagraphCxSpMiddle" style="">10.&nbsp;
  Client to provide EnvironmentalSave with the last 12 months of
  utility bills (PDF) via email (see email address above) for all meters (gas,
  electric, usage etc.).&nbsp; Client to provide
  EnvironmentalSave with the last 12 months of Data Center IT Energy usage, if
  applicable. EnvironmentalSave will validate the data using the utility bills.</p>
<p class="MsoListParagraphCxSpMiddle" style="">11.&nbsp;&nbsp;&nbsp;
  EnvironmentalSave will certify that the information contained
  within the Statement of Energy Performance (SEP) is accurate and in accordance
  with the &quot;April 2014: Licensed Professional's Guide: Applications for
  ENERGY STAR Certification.&quot;</p>
<p class="MsoListParagraphCxSpMiddle" style="">12.&nbsp;
  If it is
  determined that a building does meet the minimum requirements to achieve ENERGY STAR Certification then
  Contractor will conduct the site visit per the most recent Licensed
  Professional Guide.&nbsp; (see link below) <a href="http://www.energystar.gov/buildings/tools-and-resources/energy-star-guide-licensed-professionals">http://www.energystar.gov/buildings/tools-and-resources/energy-star-guide-licensed-professionals</a></p>
<p class="MsoListParagraphCxSpMiddle" style="">13.&nbsp;
  SLA: If applicable, Contractor to submit/mail the application
  for ENERGY STAR Certification within 10 business days of completing the site
  visit or the first week of the 2nd month following the utility meter renewal
  date (UMRD), which ever date is later. For example, if the UMRD is October 31,
  then the earliest the Certification application can be submitted is the first
  week in December. This is due to the fact that the weather data for the month
  of October is not posted to portfolio manager until the first week of December.
</p>
<p class="p1">
</p>
<p class="MsoListParagraphCxSpLast" style="">14.&nbsp;
  If a passing score of 75 or higher is achieved the contractor
  will validate, stamp and sign the SEP and submit the application to the EPA for
  ENERGY STAR Certification.</p>
<p class="p1"><br />
</p>
<p class="p1"><br />
</p>
<p class="p1"><br />
</p>
---
page_id='108331552' page_title='MRI' => 2
 7/25  28% GET url='https://measurabl.atlassian.net/wiki/rest/api/content/108331552?expand=body.storage' => OK
* 3669 to MP-3651 => OK
* 3669 to MP-3651 => OK
---
<p>Created by Sondra Tosky at 2017-04-24 21:19:54</p><p><a href="https://measurabl.assembla.com/spaces/green-in-a-box/wiki/MRI">Assembla Wiki</a></p><hr />See corresponding ticket: <a href="https://measurabl.atlassian.net/projects/MP/issues/MP-3651">MP-3651</a><br />
<br />
<u>API implementation</u><br />
API's are through MyMRI. &nbsp;Lance and Sondra have accounts.&nbsp;<a href="http://www.mrisoftware.com/myMRI">www.mrisoftware.com/myMRI</a><br />
<br />
MRI can create a customized Measurabl API just for us based on our data needs and formats. &nbsp;<br />
<br />
We can test the Measurabl API or standard APIs on MRI's sandbox. &nbsp;The sandbox has current versions for all the MRI versions.<br />
<br />
To access the client database and call the API: we would receive from MRI a Partner key that has identifiers for all clients we'd call into, the client's database name and their username/password; url for the client's API call. The API integrations guide has how to set up the authentication string that can send it as a call.<br />
<br />
The Measurabl API istance would be installed on the client instance. &nbsp;How it gets installed on the client instance depends on if the client maintains their own instance or if they are part of the SaaS setup where MRI takes care of the instance for the client. &nbsp;The API is not part of the base installation.
<ul>
  <li>If the client is hosted on the SaaS instace then MRI is able to push the Measurabl API to the client database/server and enable it.&nbsp;</li>
  <li>If they're not SaaS then the client would implement. &nbsp;MRI is able to support the client in doing their own implementation.&nbsp;</li>
</ul>
<br />
<u>MRI PoC</u><br />
Coordination with MRI is through&nbsp;Kelly.Aims@mrisoftware.com &nbsp;. &nbsp;She can coordinate a meeting when we're ready with our Dev teams.<br />
Madalyn.Popp@mrisoftware.com is contact for Partnerships<br />
Ben Burke is also a contact for sales/Biz Ben.Berk@mrisoftware.com<br />
<br />
<u>Use Case</u><br />
PGIM is using MRI and we are currently receiving and uploading the following information in flat files. &nbsp;Example of flat file data export attached to ticket <a href="https://measurabl.atlassian.net/projects/MP/issues/MP-3651">MP-3651</a>.<br />
Tab 1: Portfolio<br />
ENTITY ID<br />
ENTITY NAME<br />
ENTITY ADDRESS<br />
ENTITY CITY<br />
ENTITY STATE<br />
ENTITY ZIP<br />
ASSET MANAGER<br />
ASSET MANAGER EMAIL<br />
OWNERSHIP %<br />
MONTH<br />
YEAR<br />
GROSS SQFT<br />
Occupancy %<br />
<br />
Tab 2: Gross Market Value<br />
ENTITY ID<br />
APPRAISAL YEAR<br />
APPRAISAL QUARTER<br />
APPRAISAL DATE<br />
FINAL GROSS MARKET VALUE<br />
<br />
Both tabs include monthly time series.
---
page_id='108331620' page_title='AWS - VPC IP Block List' => 4
 8/25  32% GET url='https://measurabl.atlassian.net/wiki/rest/api/content/108331620?expand=body.storage' => OK
* 4506 to MP-4486 => OK
* 4824 to MP-4800 => OK
* 4823 to MP-4799 => OK
* 4825 to MP-4801 => OK
---
<p>Created by John Schroeder at 2016-11-21 18:18:52</p><p><a href="https://measurabl.assembla.com/spaces/green-in-a-box/wiki/AWS_-_VPC_IP_Block_List">Assembla Wiki</a></p><hr />Ticket <a href="/spaces/green-in-a-box/tickets/4506"><a href="https://measurabl.atlassian.net/projects/MP/issues/MP-4486">MP-4486</a></a>
<h3>Required Permissions</h3>
The only required action for the AWS CLI user to add network ACL entries is:&nbsp;CreateNetworkAclEntry<br />
<br />
The following policy would allow a user to add an ACL rule for any of the account's ACLs:
<pre>
{
&nbsp; &nbsp; &quot;Version&quot;: &quot;2012-10-17&quot;,
&nbsp; &nbsp; &quot;Statement&quot;: [
&nbsp; &nbsp; &nbsp; &nbsp; {
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;Sid&quot;: &quot;Stmt1479752760000&quot;,
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;Effect&quot;: &quot;Allow&quot;,
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;Action&quot;: [
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;ec2:CreateNetworkAclEntry&quot;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ],
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;Resource&quot;: [
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;*&quot;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ]
&nbsp; &nbsp; &nbsp; &nbsp; }
&nbsp; &nbsp; ]
}</pre>
<h3><br />
  Adding an ACL Entry With The AWS CLI</h3>
The following aws CLI command will create an ACL rule that blocks all traffic for all protocols on all ports for the given IP address:
<pre>
aws ec2 create-network-acl-entry --network-acl-id &lt;ACL ID&gt; --ingress --rule-number &lt;Rule Number&gt; --protocol -1 &nbsp;--cidr-block &lt;IP Address&gt;/32 --rule-action deny
</pre>
<p><br />
  Where<br />
  <br />
  <strong>&lt;ACL ID&gt;</strong> is the ID of the ACL to add the rule to<br />
  <br />
  <strong>&lt;Rule Number&gt;</strong> Is the rule number of the ACL entry. NOTE: AWS ACL Rules are processed in order of rule number. All DENY rule entries should come before the first ALLOW rule entry. In our case there is only one ALLOW rule which allows all traffic on all ports.<br />
  <br />
  <strong>&lt;IP Address&gt;</strong> The IP address for which all traffic will be blocked.</p>
&nbsp;
<h3>Example of Alerts from Savanture:</h3>
<p><a href="/spaces/green-in-a-box/tickets/4824"><a href="https://measurabl.atlassian.net/projects/MP/issues/MP-4800">MP-4800</a></a> - OSSEC Alert: High Number of Failed Logon Attempts, Ticket 42937<br />
  <a href="/spaces/green-in-a-box/tickets/4823"><a href="https://measurabl.atlassian.net/projects/MP/issues/MP-4799">MP-4799</a></a> - Accepted Inbound Traffic from Blacklist IP Ticket 42973<br />
  <a href="/spaces/green-in-a-box/tickets/4825"><a href="https://measurabl.atlassian.net/projects/MP/issues/MP-4801">MP-4801</a></a> - Accepted Inbound Traffic from Blacklist IPs, Ticket 42913</p>
<p>Attachment:&nbsp;<a href="/spaces/green-in-a-box/documents/bTrmhiSbCr5OkgacwqEsg8/download?filename=Measurabl_2016-11-20_01_20_23_42937.pdf">file:Measurabl_2016-11-20_01_20_23_42937.pdf</a></p>
<div style="background: rgb(238,238,238);border: 1.0px solid rgb(204,204,204);padding: 5.0px 10.0px;">---------- Forwarded message ----------<br />
  From: &lt;soc@savanture.com&gt;<br />
  Date: Sat, Nov 19, 2016 at 5:41 PM<br />
  Subject: OSSEC Alert: High Number of Failed Logon Attempts, Ticket 42937<br />
  To: lance@measurabl.com, Jason@measurabl.com, soc@savanture.com<br />
  <br />
  <br />
  Dear Measurabl Team,<br />
  <br />
  On 2016-11-20 01:20:23 our monitoring system created Problem Ticket 42937 based on an OSSEC HIDS alert from multpile devices; the OSSEC alerts for this ticket are based on failed login attempts (more than 25 attempts in a 1-minute period). &nbsp;Of specific concern is the IP 111.160.87.162. &nbsp;Further details can be found on the SAVANTURE Portal.<br />
  <br />
  Summary of unique SourceIPs contained in this report :<br />
  111.160.87.162, 46.148.18.163, 185.110.132.202, 159.122.133.238<br />
  <br />
  SIP | DIP | SIGNATURE | DPORT | COUNT<br />
  111.160.87.162 | 255.255.255.255 | 5710 - Attempt to login using a non-existent user | -1 | 86<br />
  159.122.133.238 | 255.255.255.255 | 5710 - Attempt to login using a non-existent user | -1 | 1<br />
  185.110.132.202 | 255.255.255.255 | 5710 - Attempt to login using a non-existent user | -1 | 1<br />
  46.148.18.163 | 255.255.255.255 | 5710 - Attempt to login using a non-existent user | -1 | 6<br />
  <br />
  <br />
  Details on this event are listed below, including recently observed ticket count for the same symptom type. Further details and the most current information can be found by logging into the MSS Portal (https://portal.savanture.com/Portal/).<br />
  <br />
  -------------------------------------------------------------------<br />
  Troubleshooting Information:<br />
  --------------------------------------------------------------------<br />
  Event Name: ATDM-(UAT: 20161110:0020/ajs) Authentication Failure (25x1)<br />
  First Event Description: An authentication failure threshold violation has occurred originating from the same source and same user against the same target system in a specific window of time.<br />
  Number of Events: 164<br />
  Tickets Generated by this same symptom type in the last 7 days: 4<br />
  Reporting Sensor/Firewall IP Address &amp; Description: 10.0.35.135,10.0.39.193,10.0.42.168, ,,<br />
  How To Validate: This could be an indication that someone is using multiple passwords in order to gain access to a resource that they are not permitted to. This can be attributed often to outdated or incorrect login scripts or other access configurations that are benign. Known false positives can be caused by specific network login scripts, hard coded passwords or code using antiquated credentials.<br />
  How to Resolve: Please investigate this alert to determine if this is indeed an illegal access attempt. If you determine a persistent false positive that cannot be immediately rectified, please let us know so we can modify the rule accordingly.<br />
  References: N/A<br />
  CVE ID (if available): &nbsp;N/A<br />
  <br />
  -------------------------------------------------------------------<br />
  Further Event Information:<br />
  -------------------------------------------------------------------<br />
  A static PDF may be attached to this alert email with the additional and specific event details. The most current information can be found by logging into the MSS Portal (https://portal.savanture.com/Portal/).<br />
  <br />
  If you have any questions please call +1.866.556.1370 and refer to ticket 42937.<br />
  <br />
  Thank you,<br />
  SAVANTURE SOC<br />
  ajs</div>
---
page_id='108167753' page_title='Rails Exception Notification' => 1
 9/25  36% GET url='https://measurabl.atlassian.net/wiki/rest/api/content/108167753?expand=body.storage' => OK
* 246 to MP-246 => OK
---
<p>Created by Lance Onken at 2016-07-07 16:57:26</p><p><a href="https://measurabl.assembla.com/spaces/green-in-a-box/wiki/Rails_Exception_Notification">Assembla Wiki</a></p><hr /><p>&nbsp;</p>
<h4>Exception Notification</h4>
https://github.com/smartinez87/exception_notification<br />
<br />
<i>The Exception Notification gem provides a set of notifiers for sending notifications when errors occur in a Rack/Rails application. The built-in notifiers can deliver notifications by email, Campfire, HipChat, Slack, Mattermost, IRC or via custom WebHooks.</i><br />
&nbsp;
<div>Certain exception types are being ignored as part of the default configuration of that gem. See line 27 of exception_notifier.rb which currently reads:</div>
<div>
  <pre>
&nbsp; @@ignored_exceptions = %w{ActiveRecord::RecordNotFound AbstractController::ActionNotFound ActionController::RoutingError ActionController::UnknownFormat}</pre>
</div>
<div>&nbsp;</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h4>Implementation:</h4>
The version of&nbsp;exception_notification which supports slack is restricted to ruby version &gt; 2.0. I looked at using the 4.0.1 version which supports our ruby version 1.9.3, but in addition to not having slack, the webhook implementation seems to have an issue &nbsp;NoMethodError: undefined method `http_method'&nbsp;(<a href="https://github.com/smartinez87/exception_notification/issues/246"><a href="https://measurabl.atlassian.net/projects/MP/issues/MP-246">MP-246</a></a>). I futzed around with updating our stack to 2.x but it's quite a lift considering both devbox and ansible for staging/production.<br />
<br />
Before giving up, I thought I'd try removing the 2.0 restriction and see if the gem &quot;worked&quot; with 1.9.3.
<pre>
git clone&nbsp;https://github.com/Measurabl/exception_notification.git ~/exception_notification</pre>
<p>&nbsp;</p>
<p>First I forked the repo to our new Measurabl git account.<br />
  <br />
  I then made this change and ran this commands to use my local git repository:</p>
<pre>
gem 'exception_notification', :github =&gt; 'Measurabl/exception_notification', :branch =&gt; 'master'
$&gt; bundle config local.exception_notification ~/exception_notification
</pre>
<p>&nbsp;</p>
<p><br />
  In <b>exception_notification.gemspec</b> I made the following hack to allow 1.9.3:</p>
<pre>
s.required_ruby_version = '&gt;= 1.9.3'
# s.required_ruby_version = '&gt;= 2.0'</pre>
<p>&nbsp;</p>
<p>Update my <b>Gemfile</b>:</p>
<pre>
# https://github.com/smartinez87/exception_notification/tree/v4.0.1
# Provides a set of notifiers by email, Campfire, HipChat, Slack, Mattermost, IRC or WebHooks
gem 'exception_notification', :github =&gt; 'Measurabl/exception_notification', :branch =&gt; 'master'
gem 'slack-notifier'</pre>
<p>Then, <b>bundle install</b>:<br />
  Using exception_notification 4.1.4 from git://github.com/Measurabl/exception_notification.git (at /home/vagrant/exception_notification@4d6adef)</p>
<p>Then in my devbox.rb environments file (using&nbsp;webhook_url configured in slack):</p>
<pre>
  config.middleware.use ExceptionNotification::Rack,
    :slack =&gt; {
      :webhook_url =&gt; &quot;https://hooks.slack.com/services/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&quot;,
      :channel =&gt; &quot;#devise-devbox&quot;,
    }</pre>
<p><br />
  Alright, start up devise/rails and generate an exception:<br />
  <img src="https://www.assembla.com//spaces/green-in-a-box/documents/c6tr4Grg8r5OaLacwqjQXA/download?filename=ScreenShot2016-07-07at11.11.28AM.png" style="width: 320.0px;height: auto;" /></p>
<p>NEXT/TODO:<br />
  1. I'll commit the version change to our Measurabl fork and&nbsp;disable the local override:</p>
<pre>
bundle config --delete local.exception_notification&nbsp;</pre>
<p>&nbsp;</p>
<p>2. <del>I'll disable for devbox and add environments config for staging and production, overriding the channel as desired.</del>&nbsp;DONE<br />
  3. <del>I might enhance the backtrace to not be as long.</del>&nbsp; DONE. Added a config option:</p>
<pre>
  config.middleware.use ExceptionNotification::Rack,
    :slack =&gt; {
...
&nbsp; &nbsp; &nbsp; :backtrace_max_lines =&gt; 15,</pre>
<p>&nbsp;</p>
<div>&nbsp;</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
---
page_id='108134832' page_title='Site Anomaly Detector' => 1
10/25  40% GET url='https://measurabl.atlassian.net/wiki/rest/api/content/108134832?expand=body.storage' => OK
* 7510 to MP-8406 => OK
---
<p>Created by  at 2017-12-20 18:58:08</p><p><a href="https://measurabl.assembla.com/spaces/green-in-a-box/wiki/Site_Anomaly_Detector">Assembla Wiki</a></p><hr />The purpose of this anomaly detection is to retire the engine that generates the &quot;Schumann&quot;&nbsp;<a href="https://measurabl.assembla.com/spaces/green-in-a-box/wiki/Client_Data_Quality_Alerts">data quality alerts</a>&nbsp;and replace the rules with data driven ones developed from the MSR data set.<br />
<br />
There are three methods to anomaly detection at the site level.
<ol>
  <li>Intensity anomalies</li>
  <li>Cost per unit anomalies</li>
  <li>Month over Month intensity variance anomalies</li>
</ol>
These mothods cover electric, water, fuel and district utility data on all sites thats are active and part of a whitelisted group.<br />
&nbsp;
<h3>Intensity Anomalies</h3>
The strategy to detect these anomalies is to look at our data in distinct slices. The way we slice the data is by&nbsp; GRESB property type and then by month. The assumption is that each property type has a different intensity profile that is seasonally affected and thus changes with each month.<br />
<br />
Once the data is sliced into into consituant pieces, we find the best distribution that fits our data slice and use that as the model of our intensity data. With this model we define an intensity outlier have a very high value of the Cummulative Density Function. This effectively makes the sites with the highest intensity outliers our anomalies.<br />
<br />
The below chart illustrates this approach. The red dashed line on the left is the distribution fit to our electric intensity data for GRESB property type Industrial: Manufacturing for March. The right chart shows the scatter plot of floor area and electric usage of all Industrial: Manufacturing for March. The red dots are what have been identified as outliers using the distribution illustrated in the chart on the left.<br />
<ac:image ac:height="250"><ri:attachment ri:filename="cVcSSy5Emr54pcacwqjQXA" ri:version-at-save="1" /></ac:image>
<h3>Cost per Unit Anomalies</h3>
The strategy to detect is very similar as the intensity anomalies but the data slices are much different. We only slice the data for utility types. The assumption is that the cost of electricity does not very much by season or by GRESB property type. The goal is to find true anomalous data, not discvoer subtle geographic differences in our data.<br />
<br />
Again, once the data is sliced into into consituant pieces, we find the best distribution that fits our data slice and use that as the model of our cost per unit data. With this model we define an intensity outlier have a very high value of the Cummulative Density Function. This effectively makes the sites with the highest cost per unit outliers our anomalies.<br />
<br />
The below chart illustrates this approach. Our data contains such egregious outliers that some of our customers have reported paying as much as $3,000,000/MWH which can be seen in the chart on the left. The scatter plot on the right has the anomalous data points as red dots again.<br />
<ac:image ac:height="250"><ri:attachment ri:filename="ag2Tlm5ECr54hdacwqEsg8" ri:version-at-save="1" /></ac:image>
<h3>Month over Month Intensity Variance Anomalies</h3>
The strategy to detect these anomalies is to look at our data in distinct slices. The way we slice the data is by&nbsp; GRESB property type and then by month over month percent change. The assumption is that each property type has a different intensity profile that is seasonally affected and thus changes with each month.<br />
<br />
Once the data is sliced into into consituant pieces, we find the best distribution that fits our data slice and use that as the model of our intensity data. With this model we define an intensity outlier have a very high value of the Probability Density Function. &nbsp;This value is derived by finding the 'elbow' of the PDF (denoted by black cross-hair on left plot below). &nbsp;This effectively makes the sites with the highest intensity outliers our anomalies.
<h2><ac:image ac:height="250"><ri:attachment ri:filename="bYmA9Q9nir56Ncdmr6CpXy" ri:version-at-save="1" /></ac:image></h2>
The chart above shows the PDF and Outliers for GRESB properety type '<em>Indurstrial: Distribution Warehouse'</em> for &nbsp;March, 2017.<br />
&nbsp;
<h3>How to Run the detector and dump anomalies to a sheet for CS analysis</h3>
Shell into the science server and execute the command<br />
<code>cd /gnb/science</code><br />
<code>sudo -u web ./run_science.sh&nbsp;site_anomaly_detector</code><br />
<br />
This will take around 5 minutes to complete. Once it has completed execute the following query in the PROD DB or Replica to get the latest list of site anomalies for CS.
<pre>
SELECT g.name AS group_name, 
&nbsp;      IF(sa.source='ENERGYSTAR',eb.name,mb.name) AS building_name, 
&nbsp;      sa.year, 
&nbsp;      sa.month, 
&nbsp;      sa.anomaly_type, 
&nbsp;      sa.confidence AS severity, 
&nbsp;      CONCAT('https://app.measurabl.com/admin/users/',g.primary_user_id,'/groups/',sa.msr_id,'/data-management/real-estate/',sa.source,'/',sa.building_id,'/trends') AS admin_link 
FROM science.site_anomalies sa 
JOIN railmodel.groups g 
  ON sa.msr_id=g.id 
LEFT JOIN msr.estar_buildings eb 
       ON sa.source='ENERGYSTAR' 
      AND sa.msr_id=eb.msr_id 
      AND sa.building_id=eb.estar_id 
LEFT JOIN msr.manual_buildings mb 
       ON sa.source='MANUAL' 
      AND sa.msr_id=mb.msr_id 
      AND sa.building_id=mb.building_id;


</pre>
In drive.measurabl.com in team drives/DEV/Science create a new spread sheet named &lt;date&gt;-site-anomalies and paste in the contents of the above query.
<h2>What is auto-labeling?</h2>
Auto-labelling is a process in which we infer that a an anomaly is actually an anomaly by detecting that it is fixed. The method used to determine this is naive. If an anomaly exists, and it disappears, we simply assume that it must have been fixed. Thus, the site_anomaly_detector.py will change the label of these anamaliess to 1 from NULL. &nbsp;This servies 2 goals: it helps us collect labeled data in an an automated fasion, and it simplifies the workflow for front end users.
<h2>Expected Values</h2>
Related Tickets:<br />
MP-7203, MP-7212, MP-8405, <a href="https://measurabl.atlassian.net/projects/MP/issues/MP-8406">MP-8406</a><br />
<br />
Expected Values refer to the following values:
<ul>
  <li>expected_usage (slope of linear regression - multiply by actual floor area)</li>
  <li>expected_spend (slope of linear regression - multiply by actual usage)</li>
  <li>expected_mom (% month-over-month change)</li>
</ul>
<p>Expected values are stored in the following science tables:</p>
<ul>
  <li>site_anomaly_expected_values (expected_usage, expected_mom)</li>
  <li>site_anomaly_expected_cost_per_unit_values (expected_spend)</li>
</ul>
and are loaded from the following model file:
<ul>
  <li>expected_values.json</li>
</ul>
These tables are used in view_site_anomalies which is used by the front end to power the Data Quality Alerts.<br />
<br />
The expected values are derived from various population groups with different granularities. This is because site anomalies are derived from models which are trained on different populations, i.e. Cost Per Unit anomalies are grouped by metric only.
<h3>site_anomaly_expected_values.py</h3>
This script reads the JSON model and updates the appropiate rows in the appropiate science tables.<br />
<strong>Load</strong><br />
Expected values are loaded from the JSON file to their science tables via the following script: site_anomaly_expected_values.py
<pre>
python site_anomaly_expected_values.py load </pre>
This script should be invoked whenever there expected_value.json file is updated/retrained.<br />
<br />
<strong>Train</strong><br />
Training should occur on the science box against produciton data. The site_anomaly_expected_values.py script can be used to update the model file:
<pre>
python site_anomaly_expected_values.py train</pre>
<p><br />
  This does not automatically commit the updated&nbsp;model. This is a manual process.<br />
  <br />
  <strong>SQL Example</strong></p>
<pre>
SELECT *
FROM science.site_anomalies s
LEFT JOIN science.site_anomaly_expected_values ev 
&nbsp;  ON ev.month = s.month
   AND ev.metric = s.metric
   AND ev.gresb_type = s.gresb_type
LEFT JOIN science.site_anomaly_expected_cost_per_unit_values evcpu 
&nbsp;  ON evcpu.metric = s.metric
</pre>
<h2>Retraining Models</h2>
<p>When retraining, take into account the following:</p>
<ul>
  <li>any unlabeled anomalies with notes need to be manually labeled</li>
  <li>unlabeled anomalies will need to be deleted and rescored to prevent them from being auto-labled (site_anomaly_delete.py)</li>
</ul>
<h3>site_anomaly_delete.py</h3>
Related Tickets:<br />
MP-7262,&nbsp;MP-7334<br />
<br />
<i>In Progress: working to automatically call this from deploy_science_models.yml (MP-7334)</i><br />
<br />
The script allows us to delete unlabeled anomalies which are affected by retrained models. This will prevent anomalies from erroneously being auto-labeled by the site_anomaly_detector. The script will also backup the affected anomalies to a temporary table for alter analysis or restoration if needed.<br />
<br />
The script has optional parameters to selectively delete slices of anomalies by particular model attributes.
<pre>
-m, --months 
-g, --gresb-types 
-M, --metrics 
-t, --anomaly-types</pre>
<p><br />
  Note that <strong>NOT</strong> passing in any of the optional parameters is equivalent to passing in <strong>ALL</strong> available choices for that parameter.<br />
  <br />
  The following will delete all unlabeled COST_PER_UNIT anomalies:</p>
<pre>
<code>python site_anomaly_delete.py --anomaly-types COST_PER_UNIT</code></pre>
<br />
<br />
Multiple values can be passed for each argument to select all combinations.<br />
The following will delete all unlabeled anomalies for the months Febuary and March and which have a metric of FUEL or WATER
<pre>
<code>python site_anomaly_delete.py --months 2 3 --metrics FUEL WATER</code></pre>
<br />
<br />
Passing in no parameters deletes all unlabeled anomalies:
<pre>
<code>python site_anomaly_delete.py</code></pre>
<p><br />
  This last example will is&nbsp;most common use case as we generally will be retraining all models at once.</p>
<br />
<br />
&nbsp;
<p>&nbsp;</p>
---
page_id='108266147' page_title='Portfolio Score' => 1
11/25  44% GET url='https://measurabl.atlassian.net/wiki/rest/api/content/108266147?expand=body.storage' => OK
* 5439 to MP-5412 => OK
---
<p>Created by Scott Knox at 2017-06-01 01:46:51</p><p><a href="https://measurabl.assembla.com/spaces/green-in-a-box/wiki/Portfolio_Score">Assembla Wiki</a></p><hr /><h1>Overview</h1>
<p>The MSR portfolio score is meant to be a tool to assess the overall efficiency and sustainability of a portfolio relative to others in the MSR database. The portfolio level&nbsp;score has a similar&nbsp;structure and feel to the site level score. Specifically, the&nbsp;portfolio score has&nbsp;a range of 0-100. Also, the overall portfolio level score can be&nbsp;drilled into to reveal a portfolio level score for Electric, Water, Fuel and District, Carbon.&nbsp;<br />
  <br />
  It was designed to fit into the Trends page<br />
  <br />
  <ac:image ac:height="250"><ri:attachment ri:filename="cjoEmEDV4r55SwacwqjQXA" ri:version-at-save="1" /></ac:image></p>
<h1>Specifics</h1>
<p>The portfolio level scores are a time series that goes back 3 calendar years. For a given (month, year and consumption type) e.g. (November, 2016, Water) the Water portfolio score is the arithmetic average score of all properties in the portfolio with a water score for November 2016. This is because the site level score already takes into account all of the confounding factors that differentiate different sites. If this were some kind of weighted average then it would effectively undo the utility of the site level score.<br />
  <br />
  Here is a&nbsp;concrete and simple example:&nbsp;a portfolio has one property with a water score in November 2016 with a water score of 60 then the water portfolio score will be 60. A slightly more complicated a portfolio with 2 properties with a water score for November 2016, on with a score of 40 and the other with a score of 60. The water portfolio level score will be Average(40,60)=50. Similarly, the scores for Electric, Fuel and District are computed the same way. The overall portfolio score for a given month and year is the arethmetic&nbsp;average of the overall&nbsp;site scores of the properties in the portfolio.&nbsp;</p>
<h1>Utility</h1>
<p>Some of the interactions that can be done with this portfolio level score would be to drill from overall score into a particular consumption type score. Say the score that is the lowest across your portfolio. You could then drill further into the portfolio level consumption score and see which asset class, like office or mutifamily residental etc. is driving your MSR Portfolio score up or down. We already have the ability to filter and sort properties in a portfolio to go all the way to the best and worst scored buildings in a portfolio.<br />
  <br />
  Related Ticket: <a href="https://measurabl.assembla.com/spaces/green-in-a-box/tickets/realtime_cardwall?ticket=5439"><a href="https://measurabl.atlassian.net/projects/MP/issues/MP-5412">MP-5412</a></a><br />
  &nbsp;</p>
<h1>Technical Methodology</h1>
The porfolio score computation depends on several pieces. The first piece is a science table called&nbsp;<code>group_building_membership</code> that maps which buildings belong to which parent groups and which subgroups. This table is re-constructed at the beginning of each nightly run of the portfolio score. This is table is also used in the portfolio score coverage calculation so it is a persistent table.<br />
<br />
The next piece that is a science temp table called <code>temp_building_type</code> that maps the primary GRESB building type to <code>building_id</code>. This table is important so that the portfolio score of just Office buildings can be calculated. This allows a user to drill into the portfolio score metric a little more to understand how the portfolio is performing in aggregate in more detail.
---
page_id='108266230' page_title='ULI' => 1
12/25  48% GET url='https://measurabl.atlassian.net/wiki/rest/api/content/108266230?expand=body.storage' => OK
* 4405 to MP-4385 => OK
---
<p>Created by Lance Onken at 2016-10-13 23:05:45</p><p><a href="https://measurabl.assembla.com/spaces/green-in-a-box/wiki/ULI">Assembla Wiki</a></p><hr /><h2>Refrigerant:</h2>
<p>Used for carbon accounting.<br />
  <img src="/spaces/green-in-a-box/documents/avlir8Ky8r5OkTacwqEsg8/download?filename=Refrigerant.png" /></p>
<img src="/spaces/green-in-a-box/documents/avooZqKy8r5OkUacwqEsg8/download?filename=Refrigerant-Add.png" /><br />
<img src="/spaces/green-in-a-box/documents/avPaE4Ky8r5O1Sdmr6bg7m/download?filename=Refrigerant-Add-Unit.png" /><br />
<img src="/spaces/green-in-a-box/documents/awfV1EKy8r5OoOacwqjQYw/download?filename=Refrigerant-Add-Type.png" />
<h2><br />
  Waste: High Priority</h2>
<p>Measurabl Concepts: Manual Entry, ESTAR API, Utility Sync. Migrate existing manual entries.<br />
  <br />
  Units should align with ESTAR/GRI/International Standards<br />
  Conversion between Weight &lt;=&gt; Volume for rollups<br />
  'Determined by' concept intended for&nbsp;member validation (more/less accurate from&nbsp;hauler than manager)<br />
  <br />
  Separate Tracking of Consumption &amp; Spend (WHY?)<br />
  <img src="/spaces/green-in-a-box/documents/aCJMYuKy8r5Oozdmr6CpXy/download?filename=Waste-SeparateConsumptionCost.png" /></p>
<br />
<img src="/spaces/green-in-a-box/documents/axmBkWKy8r5QFddmr6CpXy/download?filename=Waste-Add.png" />&nbsp;<br />
<img src="/spaces/green-in-a-box/documents/aAQV9UKy8r5P8iacwqjQXA/download?filename=Waste.png" /><br />
<img src="/spaces/green-in-a-box/documents/aA6OleKy8r5P8iacwqjQXA/download?filename=Waste-Add-Unit.png" /><br />
<img src="/spaces/green-in-a-box/documents/ayFhnIKy8r5Qlcdmr6bg7m/download?filename=Waste-Add-Type.png" /><br />
<img src="/spaces/green-in-a-box/documents/axLX4-Ky8r5OkUacwqEsg8/download?filename=Waste-Add-Diversion.png" /><br />
<img src="/spaces/green-in-a-box/documents/awWMpoKy8r5OoOacwqjQYw/download?filename=Waste-Add-Determinedby.png" /><br />
&nbsp;
<h2>Demand (kW)</h2>
<p>Pending ESPM (2017 Q1)<br />
  <a href="https://measurabl.atlassian.net/projects/MP/issues/MP-4385">MP-4385</a> - ULI: Track Demand (kW)</p>
<p>&nbsp;</p>
<h2>Spaces - ESTAR Attributes</h2>
<p>TODO<br />
  <img src="/spaces/green-in-a-box/documents/aghXI0Ky8r5P8iacwqjQXA/download?filename=Building-SpaceAspects-FromESTAR.png" /></p>
<h2><br />
  Currency/Units</h2>
<p>TODO</p>
<h2><br />
  User Preferences</h2>
<p>TODO</p>
<h2><br />
  Dashboard:</h2>
<p>TODO<br />
  Rolling: configurable lag (3 months). Useful to have YTD, but also YoY for reporting.</p>
<p>&nbsp;</p>
<h2><br />
  Export:</h2>
<p>TODO<br />
  Desire: Ad hoc<br />
  Nearterm:&nbsp;3 Standard Reports (common units for summing)<br />
  <img src="/spaces/green-in-a-box/documents/am2lkmKy8r5OkTacwqEsg8/download?filename=DataExport.png" /><br />
  <br />
  Data Explorer:<br />
  <img src="/spaces/green-in-a-box/documents/ajOMo6Ky8r5Qlcdmr6bg7m/download?filename=DataExplorer.png" /><br />
  <img src="/spaces/green-in-a-box/documents/ag9ZYYKy8r5Py1dmr6QqzO/download?filename=DataExplorer-Indicators.png" /><br />
  <br />
  <br />
  &nbsp;</p>
<h2>Projects:</h2>
<p>TODO<br />
  <img src="/spaces/green-in-a-box/documents/auIENyKy8r5OkTacwqEsg8/download?filename=Projects-List.png" /><br />
  <img src="/spaces/green-in-a-box/documents/aoi2s2Ky8r5P8iacwqjQXA/download?filename=Projects-Assign.png" /><br />
  <img src="/spaces/green-in-a-box/documents/apP0sWKy8r5OkTacwqEsg8/download?filename=Projects-Cost.png" /><br />
  <img src="/spaces/green-in-a-box/documents/auEya-Ky8r5Prgdmr6QqzO/download?filename=Projects-Subtype.png" /><br />
  <br />
  &nbsp;</p>
<h2>Benchmark:</h2>
<p>TODO<br />
  <img src="/spaces/green-in-a-box/documents/ahfMeuKy8r5Qlcdmr6bg7m/download?filename=Benchmarking-Listview.png" /><br />
  <img src="/spaces/green-in-a-box/documents/d-td1cKy4r5OkTacwqEsg8/download?filename=Benchmarking-Metric.png" /><br />
  <img src="/spaces/green-in-a-box/documents/ajlxbAKy8r5Prgdmr6QqzO/download?filename=Performance.png" /><br />
  <img src="/spaces/green-in-a-box/documents/aiJ2z2Ky8r5OoWdmr6CpXy/download?filename=Performance-DrillbyType.png" /></p>
<h2>TODO:</h2>
<p>TODO<br />
  <br />
  <br />
  &nbsp;</p>
<h2>Properties:</h2>
<p>TODO<br />
  <img src="/spaces/green-in-a-box/documents/aCMQQKKy8r5PldacwqEsg8/download?filename=PropertyList.png" /><br />
  <img src="/spaces/green-in-a-box/documents/acYZveKy8r5OoWdmr6CpXy/download?filename=Building-Summary.png" /><br />
  <img src="/spaces/green-in-a-box/documents/abDbFSKy8r5Oozdmr6CpXy/download?filename=Building-OccupancyHistory.png" /><br />
  <img src="/spaces/green-in-a-box/documents/ahO8hUKy8r5OkTacwqEsg8/download?filename=Building-Energy.png" /></p>
---
page_id='108200617' page_title='NCMR rollups for GRESB' => 1
13/25  52% GET url='https://measurabl.atlassian.net/wiki/rest/api/content/108200617?expand=body.storage' => OK
* 5082 to MP-5057 => OK
---
<p>Created by Lance Onken at 2016-12-06 02:31:23</p><p><a href="https://measurabl.assembla.com/spaces/green-in-a-box/wiki/NCMR_rollups_for_GRESB">Assembla Wiki</a></p><hr /><p>Related Tickets:<br />
  <a href="https://measurabl.atlassian.net/projects/MP/issues/MP-4857">MP-4857</a> - NCMR: GRESB Rollup<br />
  <a href="https://measurabl.atlassian.net/projects/MP/issues/MP-4865">MP-4865</a> - NCMR: CDP Rollups<br />
  <a href="https://measurabl.atlassian.net/projects/MP/issues/MP-5057">MP-5057</a> - NCMR for GRESB Projects Rollup</p>
<h2><br />
  GRESB Rollup&nbsp;Tables</h2>
We'll need to update our Portfolio Characteristics to now show a rolled up total GAV of both NCMR and Operational sites. &nbsp;We'll also need a breakout of Operational and NCMR sites. &nbsp;<br />
<br />
Maybe have the top-level view be the rollup of both NCMR and Operational with Total GAV displayed. &nbsp;Then have the list view show a breakout of NCMR and Operational details.&nbsp;<br />
&nbsp;
<p><u><strong>RC2 GAV and&nbsp;RC-NC1.1 &amp; RC-NC2.1&nbsp;Portfolio Composition and RC-NC3 Country Breakdown</strong></u></p>
<p>Measurabl GAV and Portfolio Composition<br />
  https://app.measurabl.com/reports/2016-12-31/2017-GRESB-Prerelease-v1/data-summaries/gresb/portfolio-characteristics<br />
  Measurabl GAV (new Portfolio-level GAV that is&nbsp;Operational + NC In Progress + MR In Progress). &nbsp;Get rid of pie chart and only do List View.<br />
  New tables for NC In Progress, NC Completed, MR In Progress, MR Completed. &nbsp;<br />
  New table for Country breakdown for NCMR.<br />
  <ac:image ac:height="250"><ri:attachment ri:filename="cWqU4oVnKr5Q7ddmr6CpXy" ri:version-at-save="1" /></ac:image><br />
  &nbsp;</p>
<p>&nbsp;</p>
<p><u><strong>NC5.2: NCMR Certs</strong></u></p>
<p>We need two new tables for NCMR. &nbsp;One for NC&amp;MR sites that were in progress at the end of reporting season and one for NC&amp;MR sites that were completed in Reporting Year 2. (Note that certs can be double-counted between Q30.1 'Awarded During Construction/Design' table&nbsp;<em>and </em>NC5.2 new NCMR cert tables). &nbsp;&nbsp;<br />
  % Porfolio is based on the Total New Consturction &amp; Rennovation Sqft 'in progress' and 'completed' respectively.&nbsp;<br />
  NCMR tables include the Level. &nbsp;Because a cert could be multiple levels, but you can only enter it one time into GRESB, we usually enter the cert with the % of level covered for the cert. &nbsp;For example, if there are three new construction sites (all 100sqft)&nbsp;that completed construction, two of which got leed certified (one at Gold and one at Silver level)--we would enter into GRESB one cert 'Leed'; Level: Gold (50%), Silver (50%), % Portfolio: 67%,&nbsp;# sites: 2.</p>
<p>&nbsp;</p>
<p>Measurabl Cert table:<br />
  <ac:image ac:height="250"><ri:attachment ri:filename="dq9n62Wker5PLJdmr6CpXy" ri:version-at-save="1" /></ac:image></p>
<h2><u>Performance, Intensity, Renewables and LFL tables</u></h2>
<p>Definition:<br />
  Absolute performance, Intensity and Renwables tables will include sites that were Operational anytime in reporting year 2.<br />
  LFL only includes sites that were owned and operational throughout all of reporting year 1 AND 2 and that have 11 months of data for each reporting year. &nbsp;I.e. if a site was bought/sold, new construction or major renovation status anytime in reporting year 1 or 2 it is NOT included in LFL. &nbsp;<br />
  <br />
  <ac:image ac:height="250"><ri:attachment ri:filename="akFUB8WLWr5Ok9acwqjQYw" ri:version-at-save="1" /></ac:image><br />
  &nbsp;</p>
<h3><br />
  <u>Included sites table</u></h3>
Will filter to show the sites that are included as Operational anytime in reporting year 2. &nbsp;LFL will only show sites that meet LFL criteria.
<p><ac:image ac:height="250"><ri:attachment ri:filename="bGdVVQWLOr5RxdacwqEsg8" ri:version-at-save="1" /></ac:image><br />
  <br />
  <br />
  <br />
  <strong>Q17-Q19 Projects and Assessment &amp; Audits (ON HOLD UNTIL WE SEE PROJECTS FOR PRE-RELEASE. &nbsp;Heard from Ulrich that Projects will be changing substantially so don't do any work until we hear more.)</strong>&nbsp;<br />
  NCMR projects will be included in Project rollups for Q17-Q19. The NCMR Projects and sqft counts towards % Whole Portfolio column.&nbsp;</p>
<p><ac:image ac:height="250"><ri:attachment ri:filename="c0vUfmJm8r5RiQacwqEsg8" ri:version-at-save="1" /></ac:image></p>
---
page_id='108298906' page_title='Load Census Data Into Devbox' => 1
14/25  56% GET url='https://measurabl.atlassian.net/wiki/rest/api/content/108298906?expand=body.storage' => OK
* 2659 to MP-2646 => OK
---
<p>Created by Lance Onken at 2018-02-10 17:15:16</p><p><a href="https://measurabl.assembla.com/spaces/green-in-a-box/wiki/Load_Census_Data_Into_Devbox">Assembla Wiki</a></p><hr />This page Documents the process by which to get census data onto a devbox.&nbsp;Ordinances rely on census data being present which is loaded into the &quot;census&quot; database into census_division tables. This data is not loaded into the devbox by default because it is quite large. If it is desired to load this information it can be done so by following these steps.<br />
<br />
<br />
This ticket has the background:&nbsp;<ac:link><ri:page ri:content-title="Load Weather Data into Devbox" ri:version-at-save="3" /></ac:link>.<br />
<br />
Related <a href="https://measurabl.assembla.com/spaces/green-in-a-box/tickets/2659/details?tab=activity">Ticket&nbsp;<a href="https://measurabl.atlassian.net/projects/MP/issues/MP-2646">MP-2646</a></a> - Figure out how to restore 'census' database in case it disappears<br />
Related WIKI:&nbsp;<ac:link><ri:page ri:content-title="Ordinance and Compliance QA" ri:version-at-save="5" /></ac:link><br />
Related WIKI:&nbsp;<ac:link><ri:page ri:content-title="Ordinance Disclosure Workflow" ri:version-at-save="3" /></ac:link><br />
<br />
Background: AWS Data Pipelines connect to MySQL and dump census.census_divisions and&nbsp;census.division_points&nbsp;to CSV files on S3 (<a href="https://s3.console.aws.amazon.com/s3/buckets/measurabl-census/?region=us-west-2&amp;tab=overview">measurabl-census</a>).
<div style="background: rgb(238,238,238);border: 1.0px solid rgb(204,204,204);padding: 5.0px 10.0px;">Data Pipeline: census.census_divisions =&gt; s3:///measurabl-census<br />
  https://console.aws.amazon.com/datapipeline/home?region=us-west-2#ExecutionDetailsPlace:pipelineId=df-08163981I6JLDDPRHOP&amp;show=latest<br />
  <br />
  Data Pipeline: census.division_points =&gt; s3:///measurabl-census<br />
  https://console.aws.amazon.com/datapipeline/home?region=us-west-2#ExecutionDetailsPlace:pipelineId=df-05279503JAFP6ARSFKUK&amp;show=latest<br />
  <br />
  S3 Bucket: measurabl-census<br />
  https://s3.console.aws.amazon.com/s3/buckets/measurabl-census/?region=us-west-2&amp;tab=overview<br />
  * division_points.census.csv<br />
  * census_divisions.census.csv</div>
&nbsp;
<h3>Developer Devbox Steps:</h3>
<br />
# install aws cli
<pre>
pip install awscli --upgrade --user
export PATH=~/.local/bin:$PATH</pre>
<br />
<br />
# configure aws cli
<pre>
aws configure set region 'us-west-2' --profile devbox
aws configure set aws_access_key_id 'AKIAIASJFODS6WOJ3XBA' --profile devbox
aws configure set aws_secret_access_key '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' --profile devbox</pre>
<br />
<br />
# sync files to devbox: (this may take a few minutes)
<pre>
aws s3 sync s3://measurabl-census /msr/tmp/ --exclude '*' --include='*.csv' --region=us-west-2 --profile=devbox</pre>
<br />
<br />
# mysqlimport: (the second step may take an hour+)
<pre>
mysqlimport --fields-terminated-by=, --verbose --local -u msr -pmsr census /msr/tmp/census_divisions.census.csv
mysqlimport --fields-terminated-by=, --verbose --local -u msr -pmsr census /msr/tmp/division_points.census.csv</pre>
<br />
<br />
If that works, you'll have the following:
<pre>
DEVBOX [census]&gt; show tables in census;
+--------------------------+
| Tables_in_census         |
+--------------------------+
| __measurabl_migrations   |
| __measurabl_seed_data_v1 |
| census_divisions         |
| division_points          |
+--------------------------+
4 rows in set (0.00 sec)

DEVBOX [census]&gt; select count(*) from census.census_divisions;
+----------+
| count(*) |
+----------+
|    41500 |
+----------+
1 row in set (0.02 sec)

DEVBOX [census]&gt; select count(*) from census.division_points;
+----------+
| count(*) |
+----------+
| 26196467 |
+----------+
1 row in set (39.73 sec)</pre>
<br />
<br />
<br />
<strong>NEXT</strong>: Now that the&nbsp;census.census_divisions is populated, we can re-load the compliance_requirements. Run both of these commands on your devbox:
<pre>
vagrant@devbox-default:/$ <strong>mysql msr -umsr -pmsr -e 'DELETE FROM msr.compliance_requirements'</strong>
vagrant@devbox-default:/$ <strong>msr-migrate -d msr populate;</strong></pre>
<br />
<br />
<strong>NEXT</strong>:&nbsp;We need to clear out the caches (since the compliance job ran against the incomplete compliance_requirements).&nbsp;Run both of these commands on your devbox:
<pre>
vagrant@devbox-default:/$ <strong>mysql msr -umsr -pmsr -e 'DELETE FROM msr.estar_compliance_cache_log</strong><strong>'
</strong>vagrant@devbox-default:/$ <strong>mysql msr -umsr -pmsr -e 'DELETE FROM msr.manual_compliance_cache_log</strong><strong>'</strong></pre>
<br />
<br />
Once complete, you can remove the temp files:
<pre>
<code>rm /msr/tmp/census_divisions.census.csv
rm /msr/tmp/division_points.census.csv
</code></pre>
<br />
<br />
With the above completed, pusher will slowly fill in the compliances for geoloacted buildings. The task runs every 90 seconds for 20 buildings (10 estar, 10 manual).
<pre>
  &lt;New id=&quot;complianceParams&quot; class=&quot;com.gnb.generated.CacheComplianceParameters&quot;&gt;
    &lt;Set name=&quot;maxBuildingsPerRun&quot;&gt;20&lt;/Set&gt;
  &lt;/New&gt;</pre>
<p>&nbsp;</p>
---
page_id='108331878' page_title='User Management v3' => 17
15/25  60% GET url='https://measurabl.atlassian.net/wiki/rest/api/content/108331878?expand=body.storage' => OK
* 5212 to MP-5185 => OK
* 4954 to MP-4929 => OK
* 5211 to MP-5184 => OK
* 4954 to MP-4929 => OK
* 5212 to MP-5185 => OK
* 4954 to MP-4929 => OK
* 4955 to MP-4930 => OK
* 4954 to MP-4929 => OK
* 5212 to MP-5185 => OK
* 4954 to MP-4929 => OK
* 5211 to MP-5184 => OK
* 4954 to MP-4929 => OK
* 5212 to MP-5185 => OK
* 4954 to MP-4929 => OK
* 4955 to MP-4930 => OK
* 5210 to MP-5183 => OK
* 4954 to MP-4929 => OK
---
<p>Created by Arthur Bath at 2017-02-21 00:46:14</p><p><a href="https://measurabl.assembla.com/spaces/green-in-a-box/wiki/User_Management_v3">Assembla Wiki</a></p><hr />When the app's user management functionality was built, we were just starting to play with the 'small discrete functions / providers' design paradigm, but this primordial implementation got kind of squirrelly. It does a lot of provider passing that _should_ be handled by dependency injection. And some of these functions seem to be broken out simply for the sake of it&mdash;not because they do anything discrete that would be useful elsewhere in the app.<br /><br />In preparation for some modifications to user management re subgroups, I'd like to groom the user-related providers and scattered functions so that they're better organized and easier to understand.<br /><br />I'll explain how the Rails user-group membership is stored, how the routes work, where the frontend code exists currently, and how the UI should work. Hopefully this is useful for de-tangling (or rewriting) the code.<br /><br />h3. How we store group memberships and site manager relationships<br /><br />*When a group is created...*<br />* ...a record is created in railmodel&gt;user_group_memberships.<br />** The record has an ID, the Group Manager's (creator's) user_id, the group_id, and an is_building_manager flag (NULL for group creator, 0 for invited Group Member, 1 for invited Site Manager).<br /><br />*When a group is deleted (technically disabled)...*<br />* ...the group's records in railmodel&gt;user_group_memberships are left _intact_.<br />* ...if there are any users in the deleted group for which it was their only group...<br />** ...a new group is created for them in which they're the primary_user.<br />** ...their new group is set as their current_group.<br /><br />*When a user is invited to a group as a Group Member...*<br />* ...if their email address does not have a record in the railmodel&gt;users table, one is created.<br />** It _won't_ have a first_name, last_name, or company.<br />** It _will_ have an invitation_token, an invitation_created_at, and an invitation_sent_at.<br />** Rails sends an email containing the user's token URL to the address.<br />* ...a record is created in railmodel&gt;user_group_memberships.<br /><br />*When a Group Member is removed from a group...*<br />* ...their group membership record in railmodel&gt;user_group_memberships is deleted.<br />* ...if the group they were removed from was their last group...<br />** ...a new group is created for them in which they're the primary_user.<br />** ...their new group is set as their current_group.<br /><br />*When a Site Manger is added to a site...*<br />* ...if their email address does not have a record in the railmodel&gt;users table, one is created.<br />* ...if it's the first site they've been invited to for the group, a record is created in railmodel&gt;user_group_memberships.<br />* ...a record is created in msr&gt;estar_building_user_access (or msr&gt;manual_building_user_access for manual sites).<br />** The record contains the group's id (msr_id), the user_id, and the building_id.<br /><br />*When a Site Manager is removed from a site...*<br />* ...their site membership record is removed from msr&gt;estar_building_user_access (or msr&gt;manual_building_user_access)<br />* ...if the site was their last site in the group...<br />** ...their group membership record in railmodel&gt;user_group_memberships is deleted.<br />** ...if the group they were removed from was their last group...<br />*** ...a new group is created for them in which they're the primary_user.<br />** ...their new group is set as their current_group.<br /><br /><br />h3. Frontend user manipulation, UI, routes<br /><br />*Add a Group Member*<br />* Group Manager visits the group-level *Users* page.<br />** CHANGE: The existing implementation does not allow _Group Members_ to manage users. Will be changed for this milestone <a href="https://measurabl.atlassian.net/projects/MP/issues/MP-5185">MP-5185</a><br />* App displays lists of the group's Group Members and Site Managers.<br />** Data is retrieved in GET */api/groups/{{groupId}}.json* and transformed for bucketing and display.<br />* User clicks the *Add Group Member* button in the page header.<br />** CHANGE: When the existing tables are converted to msrTables, the user will use the table header's *Add* button to trigger this workflow <a href="https://measurabl.atlassian.net/projects/MP/issues/MP-4929">MP-4929</a><br />* User enters email addresses of users that they want to invite to the group and submit.<br />* App validates that each of the email addresses is formatted properly and is not already assigned to the group as a Group Member, Site Manager, or the Group Manager.<br />* App runs a POST *invitation.json* for each email address submitted (POST body: {email: &quot;art@measurabl.com&quot;, group_ids: [1]}).<br />** CHANGE: The invitation route will be prefixed with &quot;api/&quot; like the rest of the app routes <a href="https://measurabl.atlassian.net/projects/MP/issues/MP-5184">MP-5184</a><br />* For each POST invtation.json, Rails checks for a user with the submitted email address in the railmodel&gt;users table. If no user with that email address exists, it creates a &quot;pending&quot; record (missing some information that the user will later provide), then sends an email to the address with an invitation token link that they can use to create an account in Measurabl and complete their user record.<br />* Rails creates a record in the railmodel&gt;user_group_memberships table for the user+group.<br />* The response from *invitation.json* contains the invited user's user record (either existing or newly-created). This is used to update the Group Members ngTable. The newly-invited user's information is supplemented like each of the users from */api/groups/{{groupId}}.json* was, then pushed into the table's data array, then the table is refreshed.<br />** CHANGE: When the tables are converted to msrTables, the method of inserting the record into the data and refreshing the table will be different <a href="https://measurabl.atlassian.net/projects/MP/issues/MP-4929">MP-4929</a><br /><br />*Remove a Group Member*<br />* Group Manager visits the group-level *Users* page.<br />** CHANGE: The existing implementation does not allow _Group Members_ to manage users. Will be changed for this milestone <a href="https://measurabl.atlassian.net/projects/MP/issues/MP-5185">MP-5185</a><br />* The user clicks the *remove* button in the Group Member's table row and confirms.<br />** CHANGE: When the existing tables are converted to msrTables and new cog menus are implemented, this workflow will be initiated from there <a href="https://measurabl.atlassian.net/projects/MP/issues/MP-4929">MP-4929</a> <a href="https://measurabl.atlassian.net/projects/MP/issues/MP-4930">MP-4930</a><br />* App PUTs /api/groups/1/remove_users.json?users%5B%5D=2<br />** NOTE: Those entities are brackets &quot;[]&quot;. I do not remember why it's formatted this way, but it works. Maybe its some magic Railsy way of saying that the QSP accepts a something-separated list.<br />** The request payload contains the entire group definition, including its users and the user to be removed.<br />* Rails deletes the user's group membership record from railmodel&gt;user_group_memberships.<br />* If the group that the user was removed from was their _last_ group...<br />** Rails creates a new group for that user with them as the Group Manager, and it changes their current group to be that group.<br />* App interprets the successful PUT as meaning that the user's access record was removed correctly and optimistically removes the user's row form the table data and refreshes the ngTable.<br />** CHANGE: When the tables are converted to msrTables, the method of removing the record and refreshing the table will be different <a href="https://measurabl.atlassian.net/projects/MP/issues/MP-4929">MP-4929</a><br /><br />*Add a Site Manager*<br />* Group Manager visits a site's *Site Managers* page.<br />** CHANGE: The existing implementation does not allow _Group Members_ to manage users. Will be changed for this milestone <a href="https://measurabl.atlassian.net/projects/MP/issues/MP-5185">MP-5185</a><br />* App displays a list of the site's Site Managers (determined from GET */api/groups/{{groupId}}.json*)<br />* User clicks the *Add Site Manager* button.<br />** CHANGE: When the existing table is converted to an msrTable, the user will use the table header's *Add* button to trigger this workflow <a href="https://measurabl.atlassian.net/projects/MP/issues/MP-4929">MP-4929</a><br />* User enters email addresses of users that they want to invite to the site and submit.<br />* App validates that each of the email addresses is formatted properly and is not already assigned to the group as a Group Member, Site Manager, or the Group Manager.<br />* App runs a POST *invitation.json* for each email address submitted (POST body: {email: &quot;art@measurabl.com&quot;, group_ids: [1], *type: &quot;building_manager&quot;*}).<br />** CHANGE: The invitation route will be prefixed with &quot;api/&quot; like the rest of the app routes <a href="https://measurabl.atlassian.net/projects/MP/issues/MP-5184">MP-5184</a><br />* For each POST invtation.json, Rails checks for a user with the submitted email address in the railmodel&gt;users table. If no user with that email address exists, it creates a &quot;pending&quot; record (missing some information that the user will later provide), then sends an email to the address with an invitation token link that they can use to create an account in Measurabl and complete their user record.<br />* Rails creates a record in the railmodel&gt;user_group_memberships table for the user+group, marking them as *is_building_manager _1_*.<br />* Rails tells Wizard to create a site access record in msr&gt;estar_building_user_access (or msr&gt;manual_building_user_access)<br />* The response from *invitation.json* contains the invited user's user record (either existing or newly-created). This is used to update the Site Managers ngTable. The newly-invited user's information is supplemented like each of the other Site Managers from */api/groups/{{groupId}}.json* was, then pushed into the table's data array, then the table is refreshed.<br />** CHANGE: When the tables are converted to msrTables, the method of inserting the record into the data and refreshing the table will be different <a href="https://measurabl.atlassian.net/projects/MP/issues/MP-4929">MP-4929</a><br /><br />*Remove a Site Manager from a site*<br />* Group Manager visits the group-level *Users* page _or_ the site-level *Site Managers* page.<br />** CHANGE: The existing implementation does not allow _Group Members_ to manage users. Will be changed for this milestone <a href="https://measurabl.atlassian.net/projects/MP/issues/MP-5185">MP-5185</a><br />* The user clicks the *remove* button in the Site Manager's table row and confirms.<br />** CHANGE: When the existing tables are converted to msrTables and new cog menus are implemented, this workflow will be initiated from there <a href="https://measurabl.atlassian.net/projects/MP/issues/MP-4929">MP-4929</a> <a href="https://measurabl.atlassian.net/projects/MP/issues/MP-4930">MP-4930</a><br />* App DELETEs /api/building_access.json?building_id=100&amp;building_source=MANUAL&amp;user_id=2<br />* Rails proxies to Wizard. Wizard removes the site access record from msr&gt;estar_building_user_access or manual_building_user_access.<br />* App interprets the success of the DELETE as confirmation that the record is removed.<br />* If the the user was just removed from their last site in the group...<br />** ...the app runs a PUT /api/groups/1/remove_users.json?users%5B%5D=2 to remove the user's group access record.<br />*** CHANGE: This succession of record removals should happen in Rails to ensure that a network disruption or quick browser close doesn't result in the user being removed from the site without also be removed from the group (bad state that we don't support in the UI) <a href="https://measurabl.atlassian.net/projects/MP/issues/MP-5183">MP-5183</a><br />** ...Rails deletes the user's group membership record from railmodel&gt;user_group_memberships.<br />** ...if the group that the user was removed from was their _last_ group...<br />*** ...Rails creates a new group for that user with them as the Group Manager, and it changes their current group to be that group.<br />* App interprets the successful DELETE as meaning that the user's access record(s) was removed correctly and optimistically removes the user's row form the table data and refreshes the ngTable.<br />** CHANGE: When the tables are converted to msrTables, the method of removing the record and refreshing the table will be different <a href="https://measurabl.atlassian.net/projects/MP/issues/MP-4929">MP-4929</a><br /><br /><br />h3. Milestone deliverables<br />* Give user management capabilities to Group Members (not just Group Managers)<br />* Show users' 2FA status in the Users and Site Managers tables<br />* Convert group Users and site-level Site Managers tables to msrTables to enable filtering, better sorting, exporting<br />* Modernize codebase in preparation for subgroup user management<br />* Improves site manager removal process to prevent bad states<br />* Moves admin &quot;Make Group Manager&quot; functionality to the Users page, another step toward deprecating the old Group Overview (Admin Functions) page
---
page_id='108167875' page_title='Admin Search - Sites' => 1
16/25  64% GET url='https://measurabl.atlassian.net/wiki/rest/api/content/108167875?expand=body.storage' => OK
* 6059 to MP-6024 => OK
---
<p>Created by Lance Onken at 2017-07-25 21:41:13</p><p><a href="https://measurabl.assembla.com/spaces/green-in-a-box/wiki/Admin_Search_-_Sites">Assembla Wiki</a></p><hr /><h1>&nbsp;</h1>
Ticket:&nbsp;<a href="https://measurabl.assembla.com/spaces/green-in-a-box/tickets/realtime_cardwall?tickets_report_id=filter:5&amp;ticket=6059"><a href="https://measurabl.atlassian.net/projects/MP/issues/MP-6024">MP-6024</a> - Admin &gt; Search Sites</a><br />
<br />
Feature&nbsp;allows you to search Users (existing), Groups (existing) and Sites (new). When you get to the page it shows you how the search works:
<ul>
  <li>Matching - exact. IDs, etc</li>
  <li>Containing - substring search. Most things go here like name or address.</li>
  <li>Starts with - I put zip-code here since you might have 92101-1234 and not want to match exactly.</li>
</ul>
<ac:image ac:height="250"><ri:attachment ri:filename="dCftfcCyer57eedmr6QqzO" ri:version-at-save="1" /></ac:image><br />
<br />
<strong>Recommenedes ideas to add to the feature:</strong><br />
&nbsp;
<ul>
  <li>Recommend having the ability of opening each site in the new tab/new window (because when we search we might want to check some of the buidings contents to find the right one and once you click on a building you lose your search result).</li>
</ul>
<ac:image ac:height="250"><ri:attachment ri:filename="bi6JI2CyGr55Fcdmr6QqzO" ri:version-at-save="1" /></ac:image>
<ul>
  <li>Having group owner(group manager) as one of the query&nbsp;result can be so useful for CS. The reason is when they look for a specific site, that site might exist in 2 or more different groups and for them to pick the right one, they need to know the group manager(Group IDs are not easy to remember).</li>
  <li>CS is willing&nbsp;to have more advance search in order to do more specific search like &quot;Group ID: 7854 &amp; City: San Diego&quot;.</li>
  <li>Searching sites by the group manager's email address.</li>
  <li>A reset button to clear the search result.</li>
  <li>Keeping the query instruction somewhere as a quidance to popup whenever they needed ( Right now they need to refresh the page to get that).</li>
  <li>Saving the search result in the session once we click on the site and then we click&nbsp;<ac:image ac:height="250"><ri:attachment ri:filename="bsGQd6CyOr54ozdmr6bg7m" ri:version-at-save="1" /></ac:image>&nbsp;to go back to the search result.</li>
</ul>
---
page_id='108134975' page_title='NCMR dates throughout system' => 2
17/25  68% GET url='https://measurabl.atlassian.net/wiki/rest/api/content/108134975?expand=body.storage' => OK
* 5424 to MP-5397 => OK
* 5985 to MP-5952 => OK
---
<p>Created by Sondra Tosky at 2017-08-02 20:14:04</p><p><a href="https://measurabl.assembla.com/spaces/green-in-a-box/wiki/NCMR_dates_throughout_system">Assembla Wiki</a></p><hr /><u><strong>PRODUCT AREA</strong></u><br />
Please choose from the following areas:
<ul>
  <li>Reporting: e.g. GRI/SASB, Predictive Scoring, GRESB API, Exports, Compliance</li>
  <li>Trends +&nbsp;Investors + Site Data: e.g. Dashboards, Projects,&nbsp;Portal, Score, Trends</li>
</ul>
<u><strong>REQUIREMENT</strong></u><br />
Please describe in one to two sentences the basic pain or feature you would like. Try to focus on the problem and&nbsp;<u>not</u>&nbsp;jump to a solution.&nbsp;<br />
1. As a user and admin I want to be able to see ncmr dates throughout the system in order to know the lifecycle state of the building (i.e. if it's operational or an nc building). &nbsp; &nbsp;<br />
<br />
<u><strong>PROPONENT</strong></u><br />
CS, DigitalRealty, many other clients<br />
<br />
<u><strong>CHAMPION</strong></u><br />
Sondra<br />
<br />
<u><strong>DESCRIPTION</strong></u><br />
We built NCMR, but didn't add the dates throughout our system. &nbsp;Knowing if a building is Operational, NC, or MR state is critical for analyzing the portfolio.
<ul>
  <li>Add to GRESB 'included' table--tickets <a href="https://measurabl.atlassian.net/projects/MP/issues/MP-5397">MP-5397</a>, <a href="https://measurabl.atlassian.net/projects/MP/issues/MP-5952">MP-5952</a></li>
</ul>
Add NCMR dates to the following: New Construction start date, Construction end date, Major renovation start/end dates with&nbsp;multiple dates concatonated with&nbsp;';'.
<ul>
  <li>Add to Data Quality export Portfolio tab</li>
  <li>Data table, make NCMR dates optional columns</li>
  <li>Trends table, make NCMR dates optional columns</li>
</ul>
<u><strong>ROI&nbsp;</strong></u><br />
Please score your feature request using the following rubric. Use a number only, do not add text.<br />
Urgency (1-5): 3<br />
Client Benefit (1-5): 4<br />
Internal (MSR) Benefit (1-5): 5<br />
&nbsp;
<p><em>Scoring level:<br />
    1 = (i) No internal or external pressure to release (e.g. could be done anytime in the next 9-12 month window), (ii) Client may not notice the feature, (iii) it barely improves our internal workflows, and (iv) creates no direct cost savings for client.</em></p>
<p><em>5 = (i) Extreme outcry from clients or internal breakdown that forces new hires until resolved, (ii) dramatic new capability that plugs major deficiency or vaults us far ahead, (iii) huge internal efficiency gains that result in less hiring or faster response times to client, (iv) eliminates serious cost burden on client saving them meaningful money.</em></p>
---
page_id='108299100' page_title='AWS Database Migration Service (DMS)' => 4
18/25  72% GET url='https://measurabl.atlassian.net/wiki/rest/api/content/108299100?expand=body.storage' => OK
* 5913 to MP-5881 => OK
* 6073 to MP-6038 => OK
* 6101 to MP-6064 => OK
* 6122 to MP-6083 => OK
---
<p>Created by Carny Cheng at 2017-07-31 22:12:51</p><p><a href="https://measurabl.assembla.com/spaces/green-in-a-box/wiki/AWS_Database_Migration_Service_(DMS)">Assembla Wiki</a></p><hr /><a href="/spaces/green-in-a-box/tickets/5913"><a href="https://measurabl.atlassian.net/projects/MP/issues/MP-5881">MP-5881</a></a> - Archive all AMZN Data Points<br />
Amazon prefers to use the DMS service&nbsp;<a href="https://aws.amazon.com/dms/">https://aws.amazon.com/dms/</a><br />
<br />
Example:
<pre>
<code>./dms_rules.py -c mysqlback.cfg -m 3 8 -a 'arn:aws:dms:us-west-2:402295273060:task:4Z3GC7FRH3PLQZZVXC5LOCMHTM' -p dms</code></pre>
<br />
-c: A config file with the database credentials in the format used by mysqlback.py, etc.<br />
-m: One or more msr_ids (space delimited)<br />
-a: The ARN of the DMS task to which the rules will be applied<br />
-p: The AWS profile in ~/.aws/credentials whose credentials will be used.<br />
<br />
The script does the following:
<ul>
  <li>Finds all tables with an msr_id column with at least one row for one of the given msr_ids</li>
  <li>Generates the DMS rules JSON</li>
  <li>Stops the DMS task</li>
  <li>Applies the new rules</li>
  <li>Re-starts the DMS task</li>
</ul>
<br />
Related Tickets:<br />
<a href="/spaces/green-in-a-box/tickets/6073"><a href="https://measurabl.atlassian.net/projects/MP/issues/MP-6038">MP-6038</a></a> - Set up AWS DMS in STAGE to test data flow and filters<br />
<a href="/spaces/green-in-a-box/tickets/6101"><a href="https://measurabl.atlassian.net/projects/MP/issues/MP-6064">MP-6064</a></a> - Add a service user for DMS to Ansible for MySQL access<br />
<a href="/spaces/green-in-a-box/tickets/6122"><a href="https://measurabl.atlassian.net/projects/MP/issues/MP-6083">MP-6083</a></a> - Get DMS endpoint config from Amazon<br />
&nbsp;
---
page_id='108332001' page_title='Engineering Onboarding' => 2
19/25  76% GET url='https://measurabl.atlassian.net/wiki/rest/api/content/108332001?expand=body.storage' => OK
* 123 to MP-123 => OK
* 1234 to MP-1226 => OK
---
<p>Created by Marites Lucaben at 2017-08-25 06:27:57</p><p><a href="https://measurabl.assembla.com/spaces/green-in-a-box/wiki/Engineering_Onboarding">Assembla Wiki</a></p><hr /><p>&nbsp;</p>
<h3>General Onboarding</h3>
<p>See <a href="https://docs.google.com/document/d/11vBDwu6OBcMerYqB1PYUrzcljDELYmh31GgwwhS4wp4/edit#heading=h.3lmxdr25iolr">Google Doc</a>&nbsp;<br />
  &nbsp;</p>
<h3>Milestones/Release Schedule</h3>
<p>Milestones are labeled as the day last day of the sprint or&nbsp;the release. We are currently working in 2 week blocks. You can view all&nbsp;the&nbsp;<a href="https://measurabl.assembla.com/spaces/green-in-a-box/milestones">milestones</a> in Assembla.</p>
<h3>Morning Standups</h3>
<p>In typical agile fashion, we daily&nbsp;morning standup meetings. We do have a unique methodology in that we conduct our morning standups asynchronously via Slack. We use the&nbsp;#dev-morning-meeting channel and answer the following 3 questions:</p>
<ol>
  <li>What did you do yesterday?</li>
  <li>What do you plan to do today?</li>
  <li>Are there any blockers?</li>
</ol>
One entry might look like
<div style="background: rgb(238,238,238);border: 1.0px solid rgb(204,204,204);padding: 5.0px 10.0px;">Yesterday:<br />
  * MP-1226 - Group notifications in Devise. Got it up and running<br />
  * Kickoff meeting for Ordinance Feature<br />
  <br />
  Today:<br />
  *&nbsp;MP-1226 - Group notifications in Devise. Code review with @carny<br />
  * Ordinance research spike<br />
  <br />
  WFH&nbsp;this Friday. Will be offline after 3.</div>
&nbsp;<br />
<strong>Formatting In Slack</strong>
<ul>
  <li>To <strong>bold</strong> a word, use <strong>*&nbsp;</strong>before and after the word</li>
  <li>To add a bullet point, use alt/option + 8</li>
</ul>
<h3>Assembla Spaces</h3>
<p>In Assembla we have multiple Spaces. Our primary Space is &ldquo;<a href="https://measurabl.assembla.com/spaces/green-in-a-box">green-in-a-box</a>&rdquo; aka GnB - it was the company&rsquo;s original name. That&rsquo;s where you&rsquo;ll find all of our Wikis, Code, <a href="https://measurabl.assembla.com/spaces/feature-requests/">Feature Requests</a>, and tickets for defects/work in progress, with tons of history. If you see something like &quot;FR<a href="https://measurabl.atlassian.net/projects/MP/issues/MP-123">MP-123</a>&quot; (in Slack, or occasionally commit messages)&nbsp;we&rsquo;re trying to add clarification that it&rsquo;s a feature request, not a dev ticket.</p>
<div style="background: rgb(238,238,238);border: 1.0px solid rgb(204,204,204);padding: 5.0px 10.0px;"><strong>TIP:</strong> If you use &ldquo;re<a href="https://measurabl.atlassian.net/projects/MP/issues/MP-1226">MP-1226</a>&quot; in commit messages it will associate with the dev ticket, and within Assembla using MP-1226 will auto link to the tickets (during ticket comments, for example).</div>
<h3>Assembla States</h3>
Make sure user profile is updated in Assembla.<br />
<br />
Below is a brief definition for the development lifecycles states tracked in Assembla. These should be used as guidelines and not necessarily law. Please be aware that if you are acting outside of these guidelines, you should be overly communicative of your actions and intent. For example, a ticket may not have anything to test, but verification no errors arise. You may want to merge the code changes into develop but not have QA test it. You should make sure QA is aware of those changes and potential issues that may surface.<br />
<br />
To transition the ticket from one status to the next, you can either:
<ul>
  <li>Drag the card to next status</li>
  <li>Open ticket and change Status field</li>
</ul>
<table align="left" border="1" cellspacing="1" style="width: 900.0px;">
  <tbody>
    <tr>
      <th><strong>State</strong></th>
      <th><strong>Description</strong></th>
    </tr>
  </tbody>
  <tbody>
  </tbody>
  <tbody>
    <tr>
      <td>New</td>
      <td>A ticket with this status remains in the backlog. It has not been worked on.</td>
    </tr>
    <tr>
      <td>In Progress</td>
      <td>Tickets actively in progress.<br />
        <br />
        <strong>Best Practice: </strong>Review the requirements prior to any development work.&nbsp;</td>
    </tr>
    <tr>
      <td>Code Review</td>
      <td>Any code or work for this ticket has been completed and is ready for peer review. Please ping the responsible reviewer(s) in the appropriate slack channel (e.g. frontend-chatter, backend-chatter, devops, etc). After all code concerns have been resolved and the reviewer gives the thumbs up, most tickets at this point will be merged into the develop branch and pushed to staging.<br />
        <br />
        Reviews can be done by any relevant engineer on the team. Newer engineers should use this as a learning experience to explore other parts of the code and learn common practices/styles.&nbsp;</td>
    </tr>
    <tr>
      <td>Test</td>
      <td>Tickets in Test are ready for the QA team. Typically this means that the code has been reviewed, merged into develop, and deployed to staging.<br />
        <br />
        Sometimes complicated or long-running code changes should be QA'd on the feature branch via devbox. The developers will need to make this call. If this is the case, please make sure this is clear in the ticket itself.</td>
    </tr>
    <tr>
      <td>Test: In Progress</td>
      <td>Tickets actively being QA'd.</td>
    </tr>
    <tr>
      <td>Ready For Deploy</td>
      <td>Once the ticket has been accepted by QA, they should reside in this state until actually merged into master and deployed to PROD environment.</td>
    </tr>
    <tr>
      <td>Re-opened</td>
      <td>Tickets that have issues or bugs should be moved to the re-opened state by QA. This will help differentiate between New and tickets with bugs.</td>
    </tr>
    <tr>
      <td>Fixed/Closed</td>
      <td>Tickets have been closed once work has been completed and the changes have been deployed to PROD. Tickets can</td>
    </tr>
    <tr>
      <td>Deferred</td>
      <td>Tickets that will not be worked on for a long time. The ticket will be closed and can be re-opened or duplicated if the issue arises in the future.</td>
    </tr>
  </tbody>
</table>
<h3>Merge Request Checklist</h3>
<table border="1" cellspacing="1" style="width: 500.0px;">
  <tbody>
    <tr>
      <td colspan="2">Please note the items below when creating MRs</td>
    </tr>
    <tr>
      <td>Review the Spec</td>
      <td>Ensure the work is per spec</td>
    </tr>
    <tr>
      <td>Review your code</td>
      <td>
        <ul>
          <li>Add comments</li>
          <li>Remove:
            <ul>
              <li>console logs</li>
              <li>test code</li>
              <li>commented out code, etc</li>
            </ul>
          </li>
        </ul>
      </td>
    </tr>
    <tr>
      <td>Keep In Mind</td>
      <td>
        <ul>
          <li>Tables: Sorting, Filtering, Columns, Exports</li>
          <li>Translations</li>
          <li>Admin System</li>
          <li>Browsers: IE/Safari/FF/Mobile</li>
          <li>Group Owner, Group Member, Site-Manager</li>
          <li>Caching</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td>Dev Testing</td>
      <td>
        <ul>
          <li>Happy Path</li>
          <li>Edge Cases</li>
          <li>Validation Messages</li>
          <li>Explore related areas</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td>Attach</td>
      <td>
        <ul>
          <li>Screenshots (Annotated)</li>
          <li>Videos</li>
          <li>File Exports</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td>Include</td>
      <td>
        <ul>
          <li>Description of work, how you tested, what you want reviewed.</li>
          <li>Inline code comments - where useful</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td>@mention</td>
      <td>Have a clear ask when mentioning anyone on the ticket.&nbsp; If needed, esclate to Carny then to Lance</td>
    </tr>
  </tbody>
</table>
<h3><br />
  Sprint Process</h3>
<p>See <a href="https://docs.google.com/document/d/1G3u4_jGzq-YvbTaacW6P5kH-Y3VMJUbZSzpWtW1eVDI/edit">doc</a> with information regarding the sprint cycle</p>
<h3>Merge Request Guide</h3>
See <a href="https://measurabl.assembla.com/spaces/green-in-a-box/wiki/Merge_Request_(MR)_Guide">wiki</a> here
<h3><br />
  Relevant Slack&nbsp;Channels</h3>
Here are some slack channels to stay up to date with various happenings are the team. We also have project specific channels as teams form around the creation of new features or tasks.&nbsp;<br />
<br />
<strong>All of Engineering:</strong>
<table border="1" cellspacing="1" style="width: 800.0px;">
  <tbody>
    <tr>
      <td>#general</td>
      <td>Company wide announcements</td>
    </tr>
    <tr>
      <td>#dev-morning-meeting</td>
      <td>The dev team channel that has our asynchronous team meetings and general team-wide discussions. It's good to try and use threads here</td>
    </tr>
    <tr>
      <td>#jenkins</td>
      <td>Bot channel of jenkins updates</td>
    </tr>
    <tr>
      <td>#release-notes</td>
      <td>Announcements about upcoming releases and release notes</td>
    </tr>
    <tr>
      <td>#log-monitor-dev</td>
      <td>Error logs from the staging environment (develop branch on AWS)</td>
    </tr>
    <tr>
      <td>#log-monitor-prod</td>
      <td>Error logs from the prod environment</td>
    </tr>
  </tbody>
</table>
<strong>Group specific</strong>
<ul>
  <li>#qa-chatter</li>
  <li>#frontend-chatter</li>
  <li>#devops</li>
  <li>#backend-chatter</li>
</ul>
<strong>Slack - Assembla Integration</strong><br />
The integration allows the user to do various tasks from Assembla. Click on the link below to setup the integration.<br />
<a href="https://measurabl.assembla.com/spaces/green-in-a-box/integrations">https://measurabl.assembla.com/spaces/green-in-a-box/integrations</a>&nbsp;<br />
<br />
To see available tasks, enter /assembla and hit return for support<br />
<br />
<ac:image ac:height="250"><ri:attachment ri:filename="aVNE6u33Gr54kFacwqjQXA" ri:version-at-save="1" /></ac:image><br />
<strong>Example:</strong> Create a new ticket from Slack to current space in Assembla (Measurabl)<br />
<ac:image ac:height="250"><ri:attachment ri:filename="cLqVBs33Sr54kbacwqjQYw" ri:version-at-save="1" /></ac:image><br />
<ac:image ac:height="250"><ri:attachment ri:filename="dmR5NW33Sr56dcdmr6QqzO" ri:version-at-save="1" /></ac:image><br />
&nbsp;
<h2><strong>Helpful Tips:</strong></h2>
<ul>
  <li><a href="https://docs.google.com/document/d/1NBsxrRfESNbi3ox4FKFgzRdDsxQL-wmuhbRXmtLWGr8/edit#heading=h.jpjzj5ysxbe">Documenting with Screenshots and Screen Recordings</a></li>
</ul>
<h2><strong>Acronyms:</strong></h2>
<table border="1" cellspacing="1" style="width: 800.0px;">
  <tbody>
    <tr>
      <td>GRESB</td>
      <td>Global Real Estate Sustainability Benchmark</td>
    </tr>
    <tr>
      <td>CDP</td>
      <td>Carbon Disclosure Project</td>
    </tr>
    <tr>
      <td>GRI</td>
      <td>Global Reporting Initiative</td>
    </tr>
    <tr>
      <td>USGBC</td>
      <td>US Green Building Council</td>
    </tr>
    <tr>
      <td>NCMR</td>
      <td>New Construction Major Renovation</td>
    </tr>
  </tbody>
</table>
<h2>Devbox setup :&nbsp;</h2>
1- Refer to <ac:link><ri:page ri:content-title="Devbox User Guide" ri:version-at-save="1" /></ac:link> for Devbox setup process.<br />
2- If you had any question regarding your devbox you can join its Slack channel&nbsp;<em><strong>#devbox-2dot0</strong></em>
---
page_id='108135030' page_title='ARDEM' => 2
20/25  80% GET url='https://measurabl.atlassian.net/wiki/rest/api/content/108135030?expand=body.storage' => OK
* 6615 to MP-6564 => OK
* 6609 to MP-6558 => OK
---
<p>Created by Jason Munchhof at 2017-10-27 00:13:39</p><p><a href="https://measurabl.assembla.com/spaces/green-in-a-box/wiki/ARDEM">Assembla Wiki</a></p><hr /><strong>Feature Request <a href="https://measurabl.assembla.com/spaces/green-in-a-box/wiki/Feature_Request_-_ARDEM_Integration">WIKI</a><br />
  <br />
  Phase 1:</strong>&nbsp;Bulk onboarding of ARE's 60k Bills<br />
<strong>Phase 2:</strong>&nbsp;UI Support<br />
<br />
<br />
<strong>Ardem Backend Tasks</strong> - <a href="https://docs.google.com/document/d/1WbA27F84DZx-ySgQY1_1dyzV3WEZfKq3MK2oQyRUaIY/edit#heading=h.pqu993cs4ftj">gDoc</a><br />
<br />
<br />
<strong>Epic:</strong>&nbsp;#...<br />
<strong>Slack:&nbsp;</strong>#ardem<br />
<br />
<br />
<strong>Phase 1 Dataflow:</strong><br />
<br />
1. ARE == 60k bills ==&gt; Measurabl FTP (Pusher).<br />
<a href="https://measurabl.assembla.com/spaces/green-in-a-box/tickets/6615-add-sftp-account-for-are-(alexandria-real-estate)/details">Ticket <a href="https://measurabl.atlassian.net/projects/MP/issues/MP-6564">MP-6564</a></a> - Add sFTP account for ARE (alexandria real estate)<br />
<br />
2. Bulk Import:
<ul>
  <li>Place zip file containing PDF/JPG files in directory&nbsp;/gnb/tmp/ardem_bills/&lt;sync account id&gt; on Pusher</li>
  <li>Zip file can contain directories, the code will ignore and process any files in any directories</li>
  <li>Processing a bulk zip file will create a DB record in <strong>ardem_bulk_uploads</strong>&nbsp;with an ID.</li>
  <li>The files can be delivered to ARDEM by setting the status in <strong>ardem_sources</strong> to &quot;DELIVERY&quot; for all records with bulk_upload_id set to the ID mentioned above. This is still a manual step since we are baby sitting bulk uploads (they can fail in the middle due to size). This behavior is configurable via config file param.&nbsp;</li>
  <li>Per Bill
    <ul>
      <li>Generate UUID</li>
      <li>Rename Bill to UUID</li>
      <li>Copy bill to <strong>measurabl-msr-prod-ardem-bills</strong> S3 Bucket</li>
      <li>Track meta data in database (UUID, State/Status, etc)</li>
    </ul>
  </li>
</ul>
3. Measurabl will bulk &quot;activate&quot; the Offline Sync Utility Accounts using some format provided by ARE and a new tool written by Measurabl<br />
<br />
4. Move ARDEM bound bills from&nbsp;measurabl-bills =&gt; ARDEM outbound bucket:&nbsp;<strong>measurabl-msr-prod-ardem/outgoing</strong>
<ul>
  <li><a href="https://measurabl.atlassian.net/projects/MP/issues/MP-6555">MP-6555</a> - ARDEM: Shared S3 Bucket</li>
  <li>ARDEM picks up files from this bucket daily.</li>
</ul>
5. ARDEM deliveres CSV data to measurabl daily in a format which matches Urjanet Delivery to:&nbsp;<strong>measurabl-msr-prod-ardem/incoming</strong>
<ul>
  <li>Pusher will ingest that file, etc etc.</li>
</ul>
<br />
<strong>QA Test Workflows:</strong><br />
We'll want to grant QA access to a Staging S3 bucket so they can a) See the bills (with UUIDs) which would be available to ARDEM, and b) Provide CSV data to simulate ARDEM's delivereies.&nbsp;<a href="https://measurabl.assembla.com/spaces/green-in-a-box/tickets/6609-ardem--stg-+-qa-/details">Ticket <a href="https://measurabl.atlassian.net/projects/MP/issues/MP-6558">MP-6558</a></a> - ARDEM: STG + QA&nbsp;<br />
<br />
<br />
&nbsp;
---
page_id='108266418' page_title='Unit of Measure Conversion' => 8
21/25  84% GET url='https://measurabl.atlassian.net/wiki/rest/api/content/108266418?expand=body.storage' => OK
* 6616 to MP-6565 => OK
* 6616 to MP-6565 => OK
* 6636 to MP-6585 => OK
* 6637 to MP-6586 => OK
* 6638 to MP-6587 => OK
* 6639 to MP-6588 => OK
* 6640 to MP-6589 => OK
* 6646 to MP-6595 => OK
---
<p>Created by Mojgan Dadashi at 2017-12-01 21:35:18</p><p><a href="https://measurabl.assembla.com/spaces/green-in-a-box/wiki/Unit_of_Measure_Conversion">Assembla Wiki</a></p><hr /><h2>Links:</h2>
<p><strong>Spec</strong>:&nbsp;<a href="https://docs.google.com/document/d/1VexUuTVwsrT07euvCxpUNC6N2GxEAsj1CP0txYSkthc/edit?ts=59ea13e9#heading=h.brjjo6eeadt0">https://docs.google.com/document/d/1VexUuTVwsrT07euvCxpUNC6N2GxEAsj1CP0txYSkthc/edit?ts=59ea13e9#heading=h.brjjo6eeadt0</a><br />
  <strong>Mock</strong>:&nbsp;<a href="https://drive.google.com/open?id=0B0a03GT4eWIsSW9Ba0lSdDR6amc">https://drive.google.com/open?id=0B0a03GT4eWIsSW9Ba0lSdDR6amc</a><br />
  <strong>UOM Unique Routes</strong>:&nbsp;<a href="https://docs.google.com/document/d/1lS8vkgyiG-65_8GBjUrkT5Q8CAPf_mW0KkWGQrsGMN4/edit">https://docs.google.com/document/d/1lS8vkgyiG-65_8GBjUrkT5Q8CAPf_mW0KkWGQrsGMN4/edit</a><br />
  <br />
  <strong>UOM: Conversion Schedule: <a href="https://docs.google.com/spreadsheets/d/10vh6DjU0eI3mIhDukBSpxh8qVjmDin7LkjwCaoSB9J4/edit#gid=0">gsheet</a></strong><br />
  <br />
  <strong>Team:</strong><br />
  <a href="https://measurabl.assembla.com/profile/jamie_broberg">@jamie_broberg</a>&nbsp;(FE)<br />
  <a href="https://measurabl.assembla.com/profile/john.schroeder">@john.schroeder</a>&nbsp;(BE)<br />
  <a href="https://measurabl.assembla.com/profile/Moji">@Moji</a>&nbsp;(QA)</p>
<h2>Frontend:</h2>
<p>Units of Measure (UOM) are selected through the user's profile page through the preferences section. If the user has no UOM selected will be defaulted to the system units: MWh, US gal, US ton.<ac:image ac:height="250"><ri:attachment ri:filename="dz4GIg25ur56Rcdmr6CpXy" ri:version-at-save="1" /></ac:image><br />
  Once the user has selected their UOM. The following routes will have the UOM parameters appended:</p>
<pre>
/api/buildings/details

/api/trends/buildingtimeseries

/api/gresb/portfolio_time_series

/api/gresb/site_metrics

/api/gresb/metrics

/api/gresb/all_tables

/api/cdp/quantitative

/api/cdp/projects

/api/urjanet/sync_meter_readings

/api/gresb/annual_trends

</pre>
&nbsp;
<pre>
/api/users/userId/update_profile
</pre>
<br />
Is where the UOM preferences are updated. The previous routes are all GET methods.<br />
<br />
The units are returned via the devise layer on two different objects:
<div style="background: rgb(238,238,238);border: 1.0px solid rgb(204,204,204);padding: 5.0px 10.0px;">current.json.jbuilder<br />
  show.json.jbuilder</div>
<br />
These files are currently located inside
<pre>
frontend/msr-app/users</pre>
<br />
<br />
Inside the devise layer the
<pre>
user.rb</pre>
is modified to reflect the new units &amp; is located at
<pre>
devise/app/models</pre>
&nbsp;
<h2>QA:&nbsp;</h2>
<p>Epic ticket:&nbsp;<a href="https://measurabl.assembla.com/spaces/green-in-a-box/tickets/6616-allow-users-to-select-uom-preferences-for-each-metric-(energy--water--waste)/details"><a href="https://measurabl.atlassian.net/projects/MP/issues/MP-6565">MP-6565</a> - Allow users to select UOM preferences for each metric (Energy, Water, Waste)</a><br />
  Test Suite: <a href="https://measurabl.testrail.net/index.php?/suites/view/21&amp;group_by=cases:section_id&amp;group_order=asc">Here</a><br />
  Test Run: <a href="https://measurabl.testrail.net/index.php?/runs/view/16&amp;group_by=cases:section_id&amp;group_order=asc">Here</a></p>
<h2>Backend:</h2>
<h3>Usage</h3>
To enable unit of measure conversion on a route, the getEnergyUnit(), getWaterUnit() and getWasteUnit() can be used to&nbsp; get the parameter values for the preferred units from the request:
<pre>
if (null == preferredCurrency) {
    s_log.info(&quot;Invalid currency for GET /buildingtimeseries&quot;);
    response.setStatus(HttpServletResponse.SC_BAD_REQUEST);
    response.getWriter().println(
                          &quot;Invalid currency for /buildingtimeseries&quot;);
    return;
}

EnergyUnit energyUnit = UnitConverter.getEnergyUnit(request);
if (null == energyUnit) {
    s_log.info(&quot;Invalid energy unit for GET /buildingtimeseries&quot;);
    response.setStatus(HttpServletResponse.SC_BAD_REQUEST);
    response.getWriter().println(&quot;Invalid energy unit for /buildingtimeseries&quot;);
    return;
}

WaterUnit waterUnit = UnitConverter.getWaterUnit(request);
if (null == waterUnit) {
    s_log.info(&quot;Invalid water unit for GET /buildingtimeseries&quot;);
    response.setStatus(HttpServletResponse.SC_BAD_REQUEST);
    response.getWriter().println(&quot;Invalid water unit for /buildingtimeseries&quot;);
    return;
}
</pre>
<br />
<br />
If the object is &quot;flat&quot; and uses common names for usages, i.e. &quot;water&quot;, &quot;energy&quot;, &quot;district&quot;, etc., conversion can simply be done by using the UnitConverter.convertObject() method:
<pre>
UnitConverter.convertObject(monthElement, energyUnit, waterUnit, wasteUnit);
</pre>
<p><br />
  This method uses reflection to look for &quot;double&quot; fields that contains usage and converts them using the given preferred units. The field names that it looks for are defined in internal.xsd:<br />
  &nbsp;</p>
<pre>
&lt;xs:simpleType name=&quot;WasteFields&quot;&gt;
  &lt;xs:restriction base=&quot;xs:string&quot;&gt;
    &lt;xs:enumeration value=&quot;nonHazWaste&quot;/&gt;
    &lt;xs:enumeration value=&quot;hazWaste&quot;/&gt;
    &lt;xs:enumeration value=&quot;totalWaste&quot;/&gt;
    &lt;xs:enumeration value=&quot;disposal&quot;/&gt;
    &lt;xs:enumeration value=&quot;landfill&quot;/&gt;
    &lt;xs:enumeration value=&quot;incineration&quot;/&gt;
    &lt;xs:enumeration value=&quot;wasteToEnergy&quot;/&gt;
    &lt;xs:enumeration value=&quot;otherWaste&quot;/&gt;
    &lt;xs:enumeration value=&quot;recycling&quot;/&gt;
    &lt;xs:enumeration value=&quot;donation&quot;/&gt;
    &lt;xs:enumeration value=&quot;compost&quot;/&gt;
    &lt;xs:enumeration value=&quot;hazWasteMtons&quot;/&gt;
    &lt;xs:enumeration value=&quot;nonhazWasteMtons&quot;/&gt;
    &lt;xs:enumeration value=&quot;donationMtons&quot;/&gt;
    &lt;xs:enumeration value=&quot;compostMtons&quot;/&gt;
  &lt;/xs:restriction&gt;
&lt;/xs:simpleType&gt;

&lt;xs:simpleType name=&quot;EnergyFields&quot;&gt;
  &lt;xs:restriction base=&quot;xs:string&quot;&gt;
    &lt;xs:enumeration value=&quot;electric&quot;/&gt;
    &lt;xs:enumeration value=&quot;district&quot;/&gt;
    &lt;xs:enumeration value=&quot;fuel&quot;/&gt;
    &lt;xs:enumeration value=&quot;totalEnergy&quot;/&gt;
    &lt;xs:enumeration value=&quot;fuelUsageMWh&quot;/&gt;
    &lt;xs:enumeration value=&quot;districtUsageMWh&quot;/&gt;
    &lt;xs:enumeration value=&quot;electricUsageMWh&quot;/&gt;
    &lt;xs:enumeration value=&quot;renewableOnSiteMWh&quot;/&gt;
    &lt;xs:enumeration value=&quot;renewableExportedMWh&quot;/&gt;
    &lt;xs:enumeration value=&quot;renewableOffSiteMWh&quot;/&gt;
  &lt;/xs:restriction&gt;
&lt;/xs:simpleType&gt;

&lt;xs:simpleType name=&quot;WaterFields&quot;&gt;
  &lt;xs:restriction base=&quot;xs:string&quot;&gt;
    &lt;xs:enumeration value=&quot;water&quot;/&gt;
    &lt;xs:enumeration value=&quot;waterCuMeters&quot;/&gt;
  &lt;/xs:restriction&gt;
&lt;/xs:simpleType&gt;

</pre>
<p><br />
  If the object to be converted is more complex, UnitConverter.convert(String unit, Double usage) can be used directly on the fields to be converted. Methods exist in UnitConvertor for converting some common objects, i.e. lists of MeterWithConsumption, TimeSeries, etc.</p>
<h3>Supported Units</h3>
The supported units are defined in internal.xsd:
<pre>
&lt;xs:simpleType name=&quot;EnergyUnit&quot;&gt;
  &lt;xs:restriction base=&quot;xs:string&quot;&gt;
    &lt;xs:enumeration value=&quot;MWH&quot;/&gt;
    &lt;xs:enumeration value=&quot;GJ&quot;/&gt;
    &lt;xs:enumeration value=&quot;KBTU&quot;/&gt;
    &lt;xs:enumeration value=&quot;KWH&quot;/&gt;
    &lt;xs:enumeration value=&quot;MBTU&quot;/&gt;
  &lt;/xs:restriction&gt;
&lt;/xs:simpleType&gt;

&lt;xs:simpleType name=&quot;WaterUnit&quot;&gt;
  &lt;xs:restriction base=&quot;xs:string&quot;&gt;
    &lt;xs:enumeration value=&quot;CCF&quot;/&gt;
    &lt;xs:enumeration value=&quot;CF&quot;/&gt;
    &lt;xs:enumeration value=&quot;CM&quot;/&gt;
    &lt;xs:enumeration value=&quot;UKGAL&quot;/&gt;
    &lt;xs:enumeration value=&quot;USGAL&quot;/&gt;
    &lt;xs:enumeration value=&quot;KCF&quot;/&gt;
    &lt;xs:enumeration value=&quot;KCM&quot;/&gt;
    &lt;xs:enumeration value=&quot;UKKGAL&quot;/&gt;
    &lt;xs:enumeration value=&quot;USKGAL&quot;/&gt;
    &lt;xs:enumeration value=&quot;USCGAL&quot;/&gt;
    &lt;xs:enumeration value=&quot;UKCGAL&quot;/&gt;
    &lt;xs:enumeration value=&quot;L&quot;/&gt;
    &lt;xs:enumeration value=&quot;MCF&quot;/&gt;
    &lt;xs:enumeration value=&quot;UKMGAL&quot;/&gt;
    &lt;xs:enumeration value=&quot;USMGAL&quot;/&gt;
  &lt;/xs:restriction&gt;
&lt;/xs:simpleType&gt;

&lt;xs:simpleType name=&quot;WasteUnit&quot;&gt;
  &lt;xs:restriction base=&quot;xs:string&quot;&gt;
    &lt;xs:enumeration value=&quot;MT&quot;/&gt;
    &lt;xs:enumeration value=&quot;LB&quot;/&gt;
    &lt;xs:enumeration value=&quot;KG&quot;/&gt;
    &lt;xs:enumeration value=&quot;USTON&quot;/&gt;
  &lt;/xs:restriction&gt;
&lt;/xs:simpleType&gt;
</pre>
<p><br />
  and in the estar_unit_conversions and estar_waste_unit_conversions tables:<br />
  &nbsp;</p>
<pre>
DEVBOX [msr]&gt; select * from estar_unit_conversions where code is not null;
+-------------+----------+------------------------------+------------+--------+
| factor &nbsp; &nbsp; &nbsp;| gnb_type | units &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| meter_type | code &nbsp; |
+-------------+----------+------------------------------+------------+--------+
| &nbsp; &nbsp;2.831685 | Water &nbsp; &nbsp;| CCF (HUNDRED CUBIC FEET) &nbsp; &nbsp; | NULL &nbsp; &nbsp; &nbsp; | CCF &nbsp; &nbsp;|
| &nbsp;0.02831685 | Water &nbsp; &nbsp;| CF (CUBIC FEET) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| NULL &nbsp; &nbsp; &nbsp; | CF &nbsp; &nbsp; |
| &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1 | Water &nbsp; &nbsp;| CM &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | NULL &nbsp; &nbsp; &nbsp; | CM &nbsp; &nbsp; |
| 0.004546092 | Water &nbsp; &nbsp;| GALLONS (UK) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | NULL &nbsp; &nbsp; &nbsp; | UKGAL &nbsp;|
| 0.003785412 | Water &nbsp; &nbsp;| GALLONS (US) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | NULL &nbsp; &nbsp; &nbsp; | USGAL &nbsp;|
| &nbsp;0.27777778 | Electric | GJ &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | NULL &nbsp; &nbsp; &nbsp; | GJ &nbsp; &nbsp; |
| &nbsp; 0.0002931 | Electric | KBTU (THOUSAND BTU) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| NULL &nbsp; &nbsp; &nbsp; | KBTU &nbsp; |
| &nbsp; &nbsp;28.31685 | Water &nbsp; &nbsp;| KCF (THOUSAND CUBIC FEET) &nbsp; &nbsp;| NULL &nbsp; &nbsp; &nbsp; | KCF &nbsp; &nbsp;|
| &nbsp; &nbsp; &nbsp; &nbsp;1000 | Water &nbsp; &nbsp;| KCM &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| NULL &nbsp; &nbsp; &nbsp; | KCM &nbsp; &nbsp;|
| &nbsp; &nbsp;4.546092 | Water &nbsp; &nbsp;| KGAL (THOUSAND GALLONS) (UK) | NULL &nbsp; &nbsp; &nbsp; | UKKGAL |
| &nbsp; &nbsp;3.785412 | Water &nbsp; &nbsp;| KGAL (THOUSAND GALLONS) (US) | NULL &nbsp; &nbsp; &nbsp; | USKGAL |
| &nbsp; 0.3785412 | Water &nbsp; &nbsp;| CGAL (HUNDRED GALLONS) (US) &nbsp;| NULL &nbsp; &nbsp; &nbsp; | USCGAL |
| &nbsp; 0.4546092 | Water &nbsp; &nbsp;| CGAL (HUNDRED GALLONS) (UK) &nbsp;| NULL &nbsp; &nbsp; &nbsp; | UKCGAL |
| &nbsp; &nbsp; &nbsp; 0.001 | Electric | KWH &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| NULL &nbsp; &nbsp; &nbsp; | KWH &nbsp; &nbsp;|
| &nbsp; &nbsp; &nbsp; 0.001 | Water &nbsp; &nbsp;| LITERS &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | NULL &nbsp; &nbsp; &nbsp; | L &nbsp; &nbsp; &nbsp;|
| &nbsp; &nbsp; &nbsp;0.2931 | Electric | MBTU (MILLION BTU) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | NULL &nbsp; &nbsp; &nbsp; | MBTU &nbsp; |
| &nbsp; &nbsp;28316.85 | Water &nbsp; &nbsp;| MCF (MILLION CUBIC FEET) &nbsp; &nbsp; | NULL &nbsp; &nbsp; &nbsp; | MCF &nbsp; &nbsp;|
| &nbsp; &nbsp;4546.092 | Water &nbsp; &nbsp;| MGAL (MILLION GALLONS) (UK) &nbsp;| NULL &nbsp; &nbsp; &nbsp; | UKMGAL |
| &nbsp; &nbsp;3785.412 | Water &nbsp; &nbsp;| MGAL (MILLION GALLONS) (US) &nbsp;| NULL &nbsp; &nbsp; &nbsp; | USMGAL |
| &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1 | Electric | MWH &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| NULL &nbsp; &nbsp; &nbsp; | MWH &nbsp; &nbsp;|
+-------------+----------+------------------------------+------------+--------+
20 rows in set (0.00 sec)

DEVBOX [msr]&gt; select * from estar_waste_unit_conversions where code is not null;
+-----------------+-----------+-------------+-------+
| units &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | is_weight | factor &nbsp; &nbsp; &nbsp;| code &nbsp;|
+-----------------+-----------+-------------+-------+
| Kilogram &nbsp; &nbsp; &nbsp; &nbsp;| &nbsp; &nbsp; &nbsp; &nbsp; 1 | &nbsp; &nbsp; &nbsp; 0.001 | KG &nbsp; &nbsp;|
| pounds &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| &nbsp; &nbsp; &nbsp; &nbsp; 1 | 0.000453592 | LB &nbsp; &nbsp;|
| Tonnes (metric) | &nbsp; &nbsp; &nbsp; &nbsp; 1 | &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1 | MT &nbsp; &nbsp;|
| tons &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| &nbsp; &nbsp; &nbsp; &nbsp; 1 | &nbsp; &nbsp;0.907185 | USTON |
+-----------------+-----------+-------------+-------+
4 rows in set (0.00 sec)
</pre>
<p><br />
  To add a new conversion, the &quot;code&quot; which will be passed by requests from the front end must be added to the appropriate enum in internal.xsd and added to the &quot;code&quot; column of a factor in one of the unit_conversions tables. If a request is received with an unrecognized code, an IllegalArgumentException will be thrown.</p>
<h2>Tickets:</h2>
<a href="https://measurabl.assembla.com/spaces/green-in-a-box/tickets/6616-allow-users-to-select-uom-preferences-for-each-metric-(energy--water--waste)/details"><a href="https://measurabl.atlassian.net/projects/MP/issues/MP-6565">MP-6565</a> - Allow users to select UOM preferences for each metric (Energy, Water, Waste)<br />
  <a href="https://measurabl.atlassian.net/projects/MP/issues/MP-6585">MP-6585</a> - Users can set a preference for their Energy, Water, and Waste units<br />
  <a href="https://measurabl.atlassian.net/projects/MP/issues/MP-6586">MP-6586</a> - Users' metric unit preferences are reflected throughout the app<br />
  <a href="https://measurabl.atlassian.net/projects/MP/issues/MP-6587">MP-6587</a> - Size-normalized figures in Trends Site Breakout use scaled units to ensure that the figures are sized appropriately for comparison<br />
  <a href="https://measurabl.atlassian.net/projects/MP/issues/MP-6588">MP-6588</a> - Users' measurements and metric unit preferences are reflected in Snapshot PDF exports<br />
  <a href="https://measurabl.atlassian.net/projects/MP/issues/MP-6589">MP-6589</a> - When viewing a user's group through App Administration, the inspected user's measurements and metric units preferences are respected<br />
  <a href="https://measurabl.atlassian.net/projects/MP/issues/MP-6595">MP-6595</a> - Dropdown menus with option groups should prefer the first instance of a menu item</a><br />
&nbsp;
---
page_id='108266449' page_title='Update Demo Group Data' => 1
22/25  88% GET url='https://measurabl.atlassian.net/wiki/rest/api/content/108266449?expand=body.storage' => OK
* 6966 to MP-6886 => OK
---
<p>Created by Scott Knox at 2018-01-16 19:49:03</p><p><a href="https://measurabl.assembla.com/spaces/green-in-a-box/wiki/Update_Demo_Group_Data">Assembla Wiki</a></p><hr />The Demo Group is used to show off our app to potential customers and investors. It is an integral part of our image that we project to the outside world. To keep the Demo Group looking good a certian amount of maintenence of the data must be performed on a periodic basis. A tool was created to automatically update the Utility Sync accounts on the Demo Group with consumption and spend data that is what you would expect similar buildings in the real world to have.<br />
<br />
The way this tool works is by loading a skeleton CSV file that has all of the necessary Utility Sync account numbers, Provider Names and other fields that are required for our system to process a new Utility Sync CSV delivery, an example skeleton can be seen <a href="https://measurabl.assembla.com/spaces/green-in-a-box/git-36/source/master/update_demo_group_data/resources/Dec-skeleton.csv">here</a>. The tool then ensures the dates for the billing period are correct and the lightly adjusts the consumption and spend data with a small downward trend from a known basline. It creates a UUID that begins with <code>deadfeef</code>&nbsp; to easily identify that these deliveries belong to the demo group. The last thing it does is pushes the created CSV and a zipped generic pdf bill to the S3 bucket that our system periodically pulls from to process new Utility Sync CSV deliveries.<br />
<br />
The ticket that tracked the development of this feature is <a href="https://measurabl.atlassian.net/projects/MP/issues/MP-6886">MP-6886</a>.
---
page_id='108200838' page_title='GRESB 2016 Changes' => 3
23/25  92% GET url='https://measurabl.atlassian.net/wiki/rest/api/content/108200838?expand=body.storage' => OK
* 3148 to MP-3132 => OK
* 3568 to MP-3551 => OK
* 3531 to MP-3514 => OK
---
<p>Created by Sondra Tosky at 2016-01-12 09:12:22</p><p><a href="https://measurabl.assembla.com/spaces/green-in-a-box/wiki/GRESB_2016_Changes">Assembla Wiki</a></p><hr /><p><del><b>Q5.1 Property Types&nbsp;</b>&nbsp;&nbsp;Ticket in progress (<a href="https://www.assembla.com/spaces/green-in-a-box/tickets/3148" style="font-size: 12.0px;"><a href="https://measurabl.atlassian.net/projects/MP/issues/MP-3132">MP-3132</a></a>)</del></p>
<p><del>New 2016 GRESB property types.</del></p>
<p style="font-size: 12.0px;">Q5.1-Property Types</p>
<p style="font-size: 12.0px;">Low/Mid/high rise apartments changed to Residential-Multi-family (<a href="/spaces/green-in-a-box/tickets/3568"><a href="https://measurabl.atlassian.net/projects/MP/issues/MP-3551">MP-3551</a></a>)</p>
<p><b><del>Q16 Assessments</del></b></p>
<p><del>Assessments now breaks out by:</del></p>
<p><del>Energy Efficiency</del></p>
<p><del>Water Efficiency</del></p>
<p><del>Waste management</del></p>
<p><del>Health and Wellness</del></p>
<p><del>We will add a new project type 'Health and Wellness'.</del></p>
<p><b>Q17 Projects--Dev work needed (</b><a href="/spaces/green-in-a-box/tickets/3531"><a href="https://measurabl.atlassian.net/projects/MP/issues/MP-3514">MP-3514</a></a>)</p>
<p>Change selection criteria to:</p>
<p class="p1" style="font-size: 12.0px;">We include all projects that are Commenced/Completed</p>
<p class="p1" style="font-size: 12.0px;">4-Yr is anything Commenced or Completed in past 4 years</p>
<p class="p1" style="font-size: 12.0px;" />
<p class="p2" style="font-size: 12.0px;">% Portfolio is anything completed prior 4 years (stays same)</p>
<div>----</div>
<p>It looks like Project no longer roll up by category type. &nbsp;Instead it looks like they are now individual projects.</p>
<p>There is now a column called Measure that we will set equal to Project name.<br />
  <br />
  There is also a new column that asks the user to describe the following (payback period, property type, scope, link to Q1 objectives and Q28 targets). &nbsp;We should add the following columns to the GRESB Projects page to support the question:&nbsp;</p>
<p>Payback period</p>
<p>Property type</p>
<p>Scope as a column and no longer a grouping</p>
<p>
</p>
<p class="p1">'Objectives &amp; Targets' open text box <del>add to the Project Assets page and GRESB Projects page. &nbsp;Optional field. &nbsp;With tooltip help--Describe how this project supports your company's sustainability objectives and reduction targets.</del></p>
<p class="p1">-------</p>
<p class="p1">Some of the water and waste categories changed and need to get added/mapped</p>
<p class="p1">Water 'Occupancy Sensor' will be removed from our system as a type</p>
<p class="p1">Water add category for &quot;Metering of water subsystems'</p>
<p class="p1">Waste Recycling rename to 'Recycling Program'</p>
<p class="p1">Waste Reduction -- remove</p>
<p class="p1">Add&nbsp;Waste Stream Audit</p>
<p class="p1">Add Composting Landscape and/or Food waste</p>
<p class="p1">Add Solid Waste Management&nbsp;</p>
<p class="p1">Ongoing Waste Performance Monitoring</p>
<p class="p1"><b style="font-size: 12.0px;">Q18/19--Water and Waste projects--Dev work needed</b></p>
<p>Same as Energy projects. &nbsp;Water and Waste projects are now supported. &nbsp;</p>
<p><b>Performance Indicators--Dev work needed<br />
  </b>
</p>
<p>New question asking for like-for-like vacancy rate. &nbsp;We should provide this under GRESB Performance Indicators.</p>
<div class="page" title="Page 31">
  <div class="section">
    <div class="layoutArea">
      <div class="column">
        <p>Report the average annual vacancy rate in the like-for-like portfolio (per property type) for energy and water:</p>
        <p>2014: _____%<br />
          2015: _____%&nbsp;</p>
        <p>
        </p>
        <div class="page" title="Page 31">
          <div class="section">
            <div class="layoutArea">
              <div class="column">
                <p>If the vacancy rate isn't available, there is an option for: 'The entity cannot report the average annual vacancy rate'</p>
                <p><b>Intensity</b></p>
                <p>Third year (2013 for 2016 reporting) is now included in the intensity table.</p>
                <p><b><del>Q27.3 Reclaimed Water--Qual survey, no dev work</del></b></p>
                <p><del>We will be handling the following reclaimed water question in the Qual survey this year. &nbsp;SMEs all agreed that the question isn't defined well enough to warrant putting in our Data pages.</del></p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<p><b>Q26.1 GHG offsets--</b></p>
<p>New offsets table. &nbsp;NOT SCORED THIS YEAR. &nbsp;We can handle absolute offsets in the qual survey but we'll need to build an asset-level dev piece in order to handle like-for-like.&nbsp;</p>
<p><del><ac:image ac:height="250"><ri:attachment ri:filename="bMaV0U4qir5ARdacwqEsg8" ri:version-at-save="1" /></ac:image><br />
  </del></p>
<div><b><del>28.1 Waste--No dev work needed, this breakout is optional so SMEs will handle offline manually for any clients that want to report it</del></b></div>
<div><del>Diverted is broken into:</del></div>
<div><del>waste to energy (optional)</del></div>
<div><del>recycling (optional)</del></div>
<div><del>other (optional)</del></div>
<div><del><br />
  </del></div>
<div><del>All of the breakouts are optional. &nbsp;We will be handling the breakout in the qualitative survey. &nbsp;No Dev work.</del></div>
<div><br />
</div>
<div><b>Q30.2 Operational Certifications--optional Dev work if we decide to support since it is optional in 2016</b></div>
<div>Added columns for '% portfolio baseline' and '% portfolio 2014' both of these columns are optional in 2016.</div>
<div><br />
</div>
<div><b>Certification lists got some new additions</b></div>
<div><br />
</div>
<div><br />
</div>
<div><b>Q31 Ratings--Dev work needed to support historical Ratings</b></div>
<div>EU EPC now has 2014 Floor area weighted score</div>
<div>NABERS '2014 coverage %'</div>
<div>Energy Star has 2014 % portfolio covered and floor area weighted score</div>
<div>Govt now has 2014 floor area weighted score</div>
<div><br />
</div>
<div><b>Dev work needed to only include Estar scores for certified buildings</b></div>
<div>New definition for Estar ratings:&nbsp;ENERGY STAR: The ENERGY STAR scoring system uses a rating scale from
  1 to 100 points. Only report on assets with an official ENERGY STAR label,
  meaning with a score of 75 or higher and with a certificate issued the US EPA.
</div>
<div class="page" title="Page 112">
  <div class="layoutArea">
    <div class="column">
      <p>&nbsp;<br />
      </p>
    </div>
  </div>
</div>
<div><br />
</div>
<div><br />
</div>
<div><br />
</div>
<div><br />
</div>
<div><br />
</div>
<div>
  <br />
   <br />
   <br />
  <br />
</div>
---
page_id='108200851' page_title='GRESB Included Sites' => 2
24/25  96% GET url='https://measurabl.atlassian.net/wiki/rest/api/content/108200851?expand=body.storage' => OK
* 7560 to MP-7309 => OK
* 5593 to MP-5563 => OK
---
<p>Created by Lance Onken at 2018-02-13 17:13:36</p><p><a href="https://measurabl.assembla.com/spaces/green-in-a-box/wiki/GRESB_Included_Sites">Assembla Wiki</a></p><hr /><strong>GRESB &lsquo;Included Sites&rsquo; Documentation&nbsp;</strong><br />
<br />
<em>Examples in definitions below are all for 2018 GRESB report that is filled out in spring 2018 and looking back at data for Jan 1 2016 -- Dec 31, 2017.</em>
<ul>
  <li>A GRESB survey uses data from the previous 2 years. For example, a 2018 GRESB survey would look at data from 2017 and 2016&nbsp;</li>
  <li>We call that the Reporting Period. In the example case above, that would be Jan 1, 2016 to Dec 31, 2017&nbsp;</li>
  <li>Not every site is included in every aspect of the survey - there is a section just for NCMR properties; another for fully Operational sites, for example&nbsp;</li>
  <li>However, ALL sites that were Operational, New Construction, or Major Renovation anytime (even just one day) during the second reporting year (Jan 1 2017-Dec 31 2017) are included in the GRESB report&nbsp;</li>
  <li>Sites that were only NCMR (never Operational for even a single day) between Jan 1 2017-Dec 31, 2017 are NOT in the Performance Indicators tables.</li>
  <li>Only sites that were Operational for at least one day in 2017 are included in the Performance Indicators table.&nbsp;</li>
  <li>If sites are not Operational or NCMR sometime in the second reporting year (eg Initial Construction start date of Jan 1, 2018 or bought date of Jan 1, 2018) are not included anywhere in the report</li>
  <li>They are not included in the Included Sites table or the Performance Indicators table.</li>
</ul>
<br />
<strong>Helpful definitions:</strong>
<ul>
  <li>Operational = site that was operational anytime in Reporting Year 2 (e.g. 2017)&nbsp;</li>
  <li>New Construction Completed = Site that has an End Construction date in Reporting Year 2 (ie end date &lt;= 12/31/2017)</li>
  <li>New Construction In-Progress = Site that has construction Start Date equal to or prior to Reporting Year 2 end date (e.g. prior to 1/1/2018) and no current End Date</li>
  <li>Major Renovation Completed = Site that has an End Renovation Date in Reporting Year 2 (ie end date &lt;= 12/31/2017)</li>
  <li>Major Renovation In-Progress = Site that has major renovation Start State equal to or prior to Reporting Year 2 end date (e.g. prior to 1/1/2018) and no current End Date&nbsp;</li>
</ul>
<br />
<br />
<strong>Related Bug/Tickets:</strong><br />
<a href="https://measurabl.atlassian.net/projects/MP/issues/MP-7309">MP-7309</a> - MR site is showing as Operational<br />
<a href="https://measurabl.atlassian.net/projects/MP/issues/MP-5563">MP-5563</a> - lifecycle stage - edge cases MR and IC
---
page_id='108332147' page_title='NCMR' => 1
25/25 100% GET url='https://measurabl.atlassian.net/wiki/rest/api/content/108332147?expand=body.storage' => OK
* 4602 to MP-4582 => OK
---
<p>Created by Sondra Tosky at 2016-10-04 18:54:58</p><p><a href="https://measurabl.assembla.com/spaces/green-in-a-box/wiki/NCMR">Assembla Wiki</a></p><hr /><h2>Use Case</h2>
<p>1. Our clients are still confused about when to include a site in NCMR section vs regular reporting tables. If we take care of automatically allocating to the correct section that will avoid confusion.&nbsp;</p>
<p>2. NCMR asset questions are currently being collected in the qualitative section. &nbsp;It's starting to cause confusion in users why we aren't supporting these questions through the asset pages. &nbsp;The questions are the same as for the regular sites, so we can easily collect and report on these NCMR asset questions by simply knowing which sites are in which stage of development.</p>
<p>&nbsp;</p>
<h2>Site Lifecycle:</h2>
<p>1. Land ownership--no emissions, we can ignore these.<br />
  2. Construction--relevant for NCMR in GRESB, and CDP reporting. &nbsp;Date construction begins. &nbsp;Date construction ends.<br />
  4. Bought/Lease start date. &nbsp; Bought does not necessarily mean that the site is operational--see lease-up below.<br />
  3. Lease-up (We do not support lease up through the lifecycle feature because definitions vary so much by client; instead we capture leaseup information in Occupancy).<br />
  4. Operational--this is when the site goes into the regular reporting for GRESB. Sites are automatically put into Operational mode by either setting an 'End Construction date', 'End Rennovation Date', or by entering a Bought date without Construction date specified. Sites under construction, under rennovation, or sold are NOT operational.<br />
  5. Renovation--sites can go in and out of renovation at any time. While they are under renovation the site's reporting goes into NCMR section.&nbsp;<br />
  6. Sale/lease end. &nbsp;When the site closes it will go out of Operation.</p>
<h2>NCMR v1</h2>
<p>UI</p>
<p><ac:image ac:height="250"><ri:attachment ri:filename="dZ-4BwIMmr5Rv4dmr6QqzO" ri:version-at-save="1" /></ac:image></p>
<p><ac:image ac:height="250"><ri:attachment ri:filename="a787XWOuWr5Rxddmr6bg7m" ri:version-at-save="1" /></ac:image></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2>GRESB Rollup&nbsp;Tables</h2>
<p>RC2 GAV: Total GAV should include both Operational &amp; NCMR&nbsp;sites.</p>
<p><ac:image ac:height="250"><ri:attachment ri:filename="aEUVE0JmKr5QWaacwqjQXA" ri:version-at-save="1" /></ac:image></p>
<p>&nbsp;</p>
<p>RC-NC1.1: New construction portfolio composition</p>
<p><ac:image ac:height="250"><ri:attachment ri:filename="dXWYeKJmWr5Oaldmr6bg7m" ri:version-at-save="1" /></ac:image></p>
<p>&nbsp;</p>
<p>RC-NC2.1: Major renovation portfolio composition&nbsp;</p>
<p><ac:image ac:height="250"><ri:attachment ri:filename="bm_CQ8Jm0r5OBdacwqEsg8" ri:version-at-save="1" /></ac:image></p>
<p>&nbsp;</p>
<p>NC5.2: NCMR Certs</p>
<p>% Porfolio is based on the Total New Consturction and Rennovation Sqft in progress and completed respectively. (Note that this question overlaps with Q30.1 and the certs can intentionally be double-counted in both NC5.2 <em>and</em> Q30.1).</p>
<p><ac:image ac:height="250"><ri:attachment ri:filename="dZ8yBSJm0r5RNcacwqEsg8" ri:version-at-save="1" /></ac:image></p>
<p><br />
  Q17-Q19: NCMR projects will be included in Project rollups for Q17-Q19. The NCMR Projects and sqft counts towards % Whole Portfolio column.</p>
<p><ac:image ac:height="250"><ri:attachment ri:filename="c0vUfmJm8r5RiQacwqEsg8" ri:version-at-save="1" /></ac:image></p>
<h2>CDP Rollup Tables</h2>
<p>CDP all quant tables should include <strong><em>all</em></strong>&nbsp;sites regardless of stage (construction, operational, renovation). &nbsp;All sites get counted under CDP as under operational control.&nbsp;</p>
<p>&nbsp;</p>
<p>Relevant Tickets</p>
<p><a href="https://app.assembla.com/spaces/green-in-a-box/tickets/realtime_list?ticket=4602"><a href="https://measurabl.atlassian.net/projects/MP/issues/MP-4582">MP-4582</a> NCMR Kickoff</a></p>
<p><a href="https://measurabl.atlassian.net/projects/MP/issues/MP-4595">MP-4595</a></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<ol>
</ol>
<p>&nbsp;</p>
---

All done!
